(()=>{(()=>{$el("t-input",[],f=>{w(f)},(f,n,t)=>{name=="t-options"&&t&&w(f)});function w(f){var n=f.options();n.class=n.class||["p{3px}"],Array.isArray(n.class)&&(n.class=n.class.join(" ")),f.innerHTML="<input>",Object.keys(n).map(t=>{t=="onchange"&&typeof n[t]=="function"?f.querySelector("input").onchange=n.onchange:(t=="class"&&n[t]&&(Array.isArray(n.class)||(n.class=n.class.split(" ")),n.class=n.class.join(" ")),f.querySelector("input").setAttribute(t,n[t]))})}})();(()=>{$el("x-button",[],t=>{w(t),t.setDisable=o=>{},t.setIcon=o=>{},t.hideIcon=o=>{},t.options=()=>{},t.resize=()=>{}},(t,o,c,d)=>{o=="t-options"&&d&&w(t)});function w(t){var o=t.options(),c=t.getAttribute("data-icon");o.class=o.class||["cr","flt{brightness(90%);contrast(200%)}:hover","td","wFc","dF","aiC","gap2rem","xs:px{1.5rem}","p{0.8rem;3.3rem}","fns--fs-m","bg{var(--c-lgreen)}","bda1.5625rem","bd!N"],Array.isArray(o.class)||(o.class=o.class.split(" ").filter(a=>a)),o.class=o.class.join(" ");var d="";c&&f(n(c))&&(d=`<x-svg t-options='${c}'></x-svg>`),t.innerHTML=`<a ${Object.keys(o).map(a=>`${a}="${o[a]}"`).join(" ")}>${d} ${o.title}</a>`}function f(t){return t!==null&&typeof t=="object"&&!Array.isArray(t)}function n(t){try{return JSON.parse(t)}catch{return null}}})();(()=>{$el("t-link",[],f=>{w(f)},(f,n,t)=>{name=="t-options"&&t&&w(f)});function w(f){var n=f.options();n.class=n.class||["p{10px}","cr"],Array.isArray(n.class)||(n.class=n.class.split(" ").filter(o=>o)),n.class.push("bd{1px;solid;#ccc}","jcC","p10px","d{inline-flex}"),n.class=n.class.join(" ");var t="";n.icon&&(t=`<t-svg t-options='${JSON.stringify(n.icon)}'></t-svg>`,delete n.icon),f.innerHTML=`<a ${Object.keys(n).map(o=>`${o}="${n[o]}"`).join(" ")}>${t} ${n.title}</a>`}})();(()=>{$el("x-combo",[],e=>{var s=$state(),l=$state([]);let x=new Set;Object.defineProperties(e,{value:{get:()=>s.val,set:g=>{s.val=g},configurable:!0},setValue:{value:g=>{s.val=g,h(e,x)},writable:!1},getDataOption:{value:()=>l.val,writable:!1},setDataOption:{value:g=>{Array.isArray(g)&&g.length>0&&(l.val=g)},writable:!1},setReadOnly:{},setDisable:{},setHelper:{}}),w(e,x)},(e,s,l,x)=>{s=="t-options"&&x&&w(e)});function w(e,s){let l=e.options();l.multiple=l.multiple||!1,e.value=l.multiple?[]:"",l.value&&(e.value=l.multiple?Array.isArray(l.value)?l.value:[]:["object","function","undefined"].includes(typeof l.value)?"":l.value),l.tags=l.tags||!1,l.allowClear=l.allowClear||!1,l.suggest=l.suggest||!1,l.search=l.search||!1,l.hideClearButton=l.hideClearButton||!0,l.searchDelay=l.searchDelay||300;let x=e.getAttribute("data-helper"),g=e.getAttribute("data-options"),E="";l.class=l.class||["dF","aiC","gap0.25rem","fxw","bd{1px;solid;#dee4f0}","bda0.375rem","p{0.25rem;1rem}","mih2.5rem","posR","bd!N;>;label"],Array.isArray(l.class)||(l.class=l.class.split(" ")),l.class=l.class.join(" ");var b="";if(x&&f(n(x))){let S=n(x);var b=S.text?`<div class="${S.color??"c{var(--c-red)}"} fns--fs-s">${S.text}</div>`:""}if(g&&Array.isArray(n(g))){let S=n(g);if(Array.isArray(S)&&S.length>0){e.setDataOption(S);for(let D of S){let O=!1;if(Array.isArray(e.value))for(let M of e.value)M==D.value&&(s.add(D.label),O=!0);else D.value==e.value&&(s.add(D.label),O=!0);E+=`
                    <label class="cr dF gap0.5rem ws{normal} bda0.375rem bg{transparent} bg{#E8E9EC}:active bg{#E8E9EC}:hover wrb{break-work} clr{both} c{#566177} p0.625rem w100% bd!N" data-value="${D.value??""}" data-label="${D.label??""}">
                        <input class="fxs bda0.25rem bgc{var(--c-white)} bd{1px;solid;#cdb5e1} h1em w1em vaT" type="checkbox" ${O?"checked":""} value="${D.value??""}"/>
                        ${D.label??""}
                    </label>`}}}let k="";l.allowClear&&(k=`<x-svg class="dB wFc posA r{0.5rem} cr bxshd{0px;4px;12px;#3333331f}:hover d!N bda50%" t-options="name:'close',fill:'#aabad0', width:18, height: 18" name="clear_select"></x-svg>`);let q="";l.suggest||l.search&&(q=`<div class="dF aiC bdb{1px;solid;#ddd}">
                        <input type="text" placeholder="Search..." class="bdN oli{none} mih2rem dB fns0.875rem w100%" name="search">
                        <x-svg class="dB wFc posA r{1rem} opc0.8 opc1:hover cr bxshd{0px;4px;12px;#3333331f}:hover bda50% d!N" t-options="name:'close',fill:'#aabad0', width:18, height:18" name="clear_search"></x-svg>
                    </div>`),e.innerHTML=`
        <div class="dF fxdC gap1rem bxsz{'border-box'}">
            <div class="${l.class}" name='combobox-container'>
                <div class="dF fxdC fx1">
                    <input class="bg{var(--c-white)} c{var(--c-black)} bdN oli{none} mih2.5rem dB fns0.875rem w100% pr0.875rem bd!N cr" ${l.suggest?"":"readonly"} name="filter" autocomplete="off" placeholder="${l.placeholder??""}"/>
                    <div class="bxshd{0px;4px;12px;#3333331f} h{fit-content} mt0.25rem bgc{var(--c-white)} w100% bda0.375rem fns0.875rem p0.625rem posA taL z{1000} t100% l0 bd!N dN" name="dropdown">
                        ${q}
                        ${E}
                        <div class="dF aiC d!N p{0.5rem;1rem}" name="no-result">Kh\xF4ng c\xF3 k\u1EBFt qu\u1EA3 n\xE0o \u0111\u01B0\u1EE3c t\xECm th\u1EA5y</div>
                    </div>
                </div>
                ${k}
                <x-svg class="dB wFc posA r{0.5rem} tra{rotate(90deg)} cr" t-options="name:'chevron_right',fill:'#aabad0', width:18, height:18" name="arrow"></x-svg>
            </div>
            ${b}
        </div>`;let m=e.querySelector('input[name="filter"]'),$=e.querySelector('x-svg[name="arrow"]'),T=e.querySelector('div[name="dropdown"]'),N=e.querySelector('div[name="combobox-container"]'),A=T.getElementsByTagName("label"),C=e.querySelector('x-svg[name="clear_select"]'),F=e.querySelector('input[name="search"]'),j=-1;if(A.length>0)for(let S of A)S.onclick=D=>{D.stopPropagation(),D.target.tagName=="LABEL"&&L(l.multiple,D.target,e,l.allowClearItem,N,A,m,T,$,s,l.allowClear,C)};C&&(C.onclick=S=>{if(Array.isArray(e.value))if(e.value.length=0,e.value=[],l.allowClearItem){let D=N.querySelectorAll('span[name2="option-allow-clear"]');if(D&&D.length>0)for(let O of D)O.remove()}else m.value="";else e.value="",m.value="";s.clear();for(let D of A)D.querySelector('input[type="checkbox"]').checked=!1;C.classList.toggle("d!N",!0)}),m&&(m.oninput=S=>{i(S.target,A,T,l.multiple,l.allowClearItem,e,s),l.suggest&&!l.allowClearItem&&T.classList.contains("dN")&&o(T,$)},m.onclick=S=>{c(A,T),l.suggest&&!l.allowClearItem||o(T,$)},m.onkeyup=S=>{if(["Tab","Enter","ArrowDown","ArrowUp","Escape"].includes(S.key))switch(S.stopPropagation(),S.key){case"Escape":T.classList.toggle("dN",!0);break;case"Tab":case"Enter":j==-1&&(j=0);let D=A[j];L(l.multiple,D,e,l.allowClearItem,N,A,m,T,$,s,l.allowClear,C,!0);break;default:break}}),F&&(F.oninput=S=>{i(S.target,A,T,!1,!1,e,s)}),$&&($.onclick=S=>{o(T,$)}),T&&(T.onclick=S=>{S.stopPropagation()}),N&&(N.onkeydown=S=>{(S.key==="Tab"||S.key==="Enter")&&S.preventDefault(),(S.key==="ArrowDown"||S.key==="ArrowUp")&&(S.preventDefault(),S.key==="ArrowDown"&&(j=(j+1)%A.length,d(j,A)),S.key==="ArrowUp"&&(j=(j-1+A.length)%A.length,d(j,A)))}),e.value&&e.value.length>0&&y(e,T,A,N,$,C,m,s),document.addEventListener("click",function(S){if(!S.target.closest('div[name="combobox-container"]')){let D=e.querySelector('div[name="dropdown"]'),O=e.querySelector('x-svg[name="arrow"]');D.classList.toggle("dN",!0),t(D,O)}})}function f(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}function n(e){try{return JSON.parse(e)}catch{return null}}function t(e,s){e.classList.contains("dN")?(s.classList.toggle("tra{rotate(90deg)}",!0),s.classList.toggle("tra{rotate(270deg)}",!1)):(s.classList.toggle("tra{rotate(90deg)}",!1),s.classList.toggle("tra{rotate(270deg)}",!0))}function o(e,s){window.currentlyOpenDropdown&&window.currentlyOpenDropdown!==e&&window.currentlyOpenDropdown.classList.add("dN"),e?.classList.toggle("dN");var l=e.getBoundingClientRect();l.bottom>window.innerHeight?(e.classList.toggle("t100%",!1),e.classList.toggle("t{-205%}",!0)):(e.classList.toggle("t100%",!0),e.classList.toggle("t{-205%}",!1)),t(e,s),window.currentlyOpenDropdown=e.classList.contains("dN")?null:e}function c(e,s){if(e.length>0){s.querySelector('div[name="no-result"]').classList.toggle("d!N",!0);for(let l of e)l.classList.toggle("d!N",!1),l.classList.toggle("bg!{#E8E9EC}",!1)}}function d(e,s){if(s.length>0)for(let l of s)l.classList.toggle("bg!{#E8E9EC}",!1);e>=0&&e<s.length&&s[e].classList.toggle("bg!{#E8E9EC}",!0)}function a(e,s,l){let x=e.querySelector('input[type="checkbox"]'),g=x?x.value:e.getAttribute("data-value"),E=e.getAttribute("data-label"),b=s.value??[],k=!1;return b.includes(g)?s.value=b.filter(q=>q!==g):(s.value.push(g),k=!0),l.has(E)?l.delete(E):l.add(E),{selectedValues:Array.from(l),newText:E.trim(),chosen:k,newValue:g}}function u(e,s,l,x,g,E){let{span:b,"x-svg":k}=$tags,q=k({class:"dB wFc","t-options":'name:"close", width:16, height:16, fill: "#4D4F5C"',"data-value":e,onclick:$=>{g.querySelector(`span[name="options-${e}"]`)?.remove(),E.querySelector(`label[data-value="${e}"]`).querySelector('input[type="checkbox"]').checked=!1,l.value=l.value.filter(T=>T!==e),x.has(s)&&x.delete(s)}});return b({class:"dF aiC miw1px c{#4D4F5C} bda0.75rem bd{1px;solid;#E8E9EC} fns0.875rem p{0.25rem;0.5rem} gap0.25rem wrb{break-word}",innerText:s,name:`options-${e}`,name2:"option-allow-clear"},q)}function L(e,s,l,x,g,E,b,k,q,m,$,T,N=!1){if(e){let A=a(s,l,m);if(N&&(s.querySelector('input[type="checkbox"]').checked=A.chosen),x)if(A.chosen){let C=u(A.newValue,A.newText,l,m,g,k);g.prepend(C)}else l.querySelector(`span[name="options-${A.newValue}"]`)?.remove();else b.value=A.selectedValues.join(", "),b.scrollWidth>b.clientWidth&&(b.value=`\u0110\xE3 ch\u1ECDn (${A.selectedValues.length})`)}else{p(E);let A=s.querySelector('input[type="checkbox"]');A.checked=!0,l.value=A.value,b.value=s.innerText.trim(),k?.classList.toggle("dN"),t(k,q)}v($,l.value,q,T)}function i(e,s,l,x,g,E,b){let k=e.value;x&&!g&&(k=k.split(",").map(m=>m.trim()));let q=!0;for(let m=0;m<s.length;m++){let $=s[m].textContent?.trim()||s[m].innerText?.trim();if(Array.isArray(k)){k.some(A=>$.toUpperCase().includes(A.toUpperCase()))?(q=!1,s[m].classList.toggle("d!N",!1)):s[m].classList.toggle("d!N",!0);let T=s[m].getAttribute("data-value"),N=s[m].getAttribute("data-label");console.log("input search",T,N),k.some(A=>N===A)?E.value.includes(T)||(E.value=[...E.value,T],b.add(N),s[m].querySelector('input[type="checkbox"]').checked=!0):E.value.includes(T)&&(E.value=E.value.filter(A=>A!==T),b.delete(N),s[m].querySelector('input[type="checkbox"]').checked=!1)}else $.toUpperCase().indexOf(k.toUpperCase())>-1?(q=!1,s[m].classList.toggle("d!N",!1)):s[m].classList.toggle("d!N",!0)}q?l.querySelector('div[name="no-result"]').classList.toggle("d!N",!1):l.querySelector('div[name="no-result"]').classList.toggle("d!N",!0)}function h(e,s){let l=e.querySelector('input[name="filter"]'),x=e.querySelector('x-svg[name="arrow"]'),g=e.querySelector('div[name="dropdown"]'),E=e.querySelector('div[name="combobox-container"]'),b=g.getElementsByTagName("label"),k=e.querySelector('x-svg[name="clear_select"]');y(e,g,b,E,x,k,l,s,!0)}function y(e,s,l,x,g,E,b,k,q=!1){let m=e.options();if(m.multiple){if(m.allowClearItem){let $=x.querySelectorAll('span[name2="option-allow-clear"]');if($&&$.length>0)for(let T of $)T.remove();if(Array.isArray(e.value)&&e.value.length>0)for(let T of e.value){let N="";for(let C of e.getDataOption())if(C.value==T){N=C.label;break}let A=u(T,N,e,k,x,s);x.prepend(A)}}else b.value=Array.from(k).join(", "),b.scrollWidth>b.clientWidth&&(b.value=`\u0110\xE3 ch\u1ECDn (${k.length})`);if(q&&Array.isArray(e.value)&&e.value.length>0){p(l);for(let $ of e.value){let N=s.querySelector(`label[data-value="${$}"]`)?.querySelector('input[type="checkbox"]');N&&(N.checked=!0)}}}else{let $=s.querySelector(`label[data-value="${e.value}"]`);if(q){p(l);let T=$?.querySelector('input[type="checkbox"]');T&&(T.checked=!0)}b.value=$.innerText.trim()}v(e.value,m.allowClear,g,E)}function p(e){if(e&&e.length>0)for(let s of e)s.querySelector("input").checked=!1}function v(e,s,l,x){s&&(e&&e.length>0?(l.classList.toggle("d!N",!0),x.classList.toggle("d!N",!1)):(l.classList.toggle("d!N",!1),x.classList.toggle("d!N",!0)))}})();$el("t-combobox",[],w=>{var f=w.options();w.innerHTML=`<select name="${f.name||""}">
  	<option name=""> ----- </option>
  	<option name="1">Level 1</option>
  	<option name="2">Level 2</option>
  </select>`},(w,f,n,t)=>{f=="t-options"});(()=>{$el("x-tree",[],i=>{let h=$state(),y=$state();var p=$state([]);Object.defineProperties(i,{value:{get:()=>h.val,set:v=>{h.val=v},configurable:!0},selected:{get:()=>y.val,set:v=>{y.val=v},configurable:!0},data:{get:()=>p.val,set:v=>{Array.isArray(v)&&(p.val=v)},configurable:!0},setData:{value:(v,e=!1)=>{Array.isArray(v)&&(p.val=v,[!0,!1].includes(e)&&e==!0&&w(i))},writable:!1}}),w(i)},(i,h,y,p)=>{h=="t-options"&&p&&w(i)});function w(i){var h=i.options();h.checkbox&&(i.value=[]);let y=t(i.getAttribute("x-data"));console.log("options",h),y&&Array.isArray(y)&&y.length>0&&(i.data=y);let p=document.createElement("ul");p.classList.add("ws{nowrap};li"),f(i.data,0,p,i),i.insertAdjacentElement("afterbegin",p),h&&h.editEnable&&document.addEventListener("click",function(v){v.target.closest('div[name="tree"]')||(console.log("el",i.selected),i.selected&&(i.querySelector(`div[data-id="${i.selected.id}"] > span[name="tree-name"]`).classList.toggle("dN",!1),i.querySelector(`div[data-id="${i.selected.id}"] > input[type="text"]`)?.remove()))})}function f(i,h,y,p){if(!(!i||Array.isArray(i)&&i.length==0)){h+=1;for(let v of i)n(v,y,h,p)}}function n(i,h,y,p){let v=p.options(),e=v.checkbox?v.checkbox:!1,s=document.createElement("li");s.setAttribute("data-id",i.id),s.setAttribute("data-level",y);let l=document.createElement("div");l.classList.add("dF","h1rem","ws{nowrap}","cr","gap0.25rem","bdl{2px;solid;transparent}","mih1.5rem","aiC"),l.setAttribute("name","tree"),l.setAttribute("data-id",i.id),l.setAttribute("data-level",y);for(var x=0;x<y-1;x++)l.insertAdjacentHTML("afterbegin",'<span class="dIb w1rem h1rem m{0.25rem;0} va{middle} ofl{hidden}"></span>');if(i.childs&&i.childs.length>0?(l.insertAdjacentHTML("beforeend",`<x-svg class="dB wFc" t-options="name:'arrow_right', width:18, height:18" name="arrow"></x-svg>`),l.insertAdjacentHTML("beforeend",`<x-svg class="dB wFc" t-options="name:'folder',width:18, height:18"></x-svg>`),l.querySelector('x-svg[name="arrow"]').addEventListener("click",function(E){E.stopPropagation(),E.target.closest("li").querySelector("ul").classList.toggle("dN"),this.classList.toggle("tra{rotate(45deg)}")})):l.insertAdjacentHTML("beforeend",`<x-svg class="dB wFc" t-options="name:'description',width:16, height:16"></x-svg>`),l.addEventListener("click",function(g){if(console.log("click",g.target.tagName),!(g.target.tagName=="INPUT"&&g.target.name=="tree-edit")){p.querySelectorAll('div[name="tree"]').forEach(function(b){b.classList.remove("bdl{2px;solid;#39c}","bgc{#eee}","c{#39c}"),b.classList.toggle("bdl{2px;solid;transparent}",!0),v&&v.editEnable&&(console.log("abc",l.querySelector('input[name="tree-edit"]')),b.querySelector('span[name="tree-name"]').classList.toggle("dN",!1),b.querySelector('input[type="text"]')?.remove())}),this.classList.remove("bdl{2px;solid;transparent}"),this.classList.add("bdl{2px;solid;#39c}","bgc{#eee}","c{#39c}");let E=this.getAttribute("data-id");if(e||(p.value=E,p.dispatchEvent(new Event("change"))),p.selected=o(E,p.data),v&&v.editEnable){let b=document.createElement("input");b.type="text",b.value=i.name,b.name="tree-edit",l.querySelector('span[name="tree-name"]').classList.toggle("dN",!0),l.insertAdjacentElement("beforeend",b),b.addEventListener("change",function(k){console.log("inputTag",o(E,p.data)),p.dispatchEvent(new CustomEvent("changeNode",{detail:{node_id:E,text:this.value}})),l.querySelector('span[name="tree-name"]').innerText=this.value})}}}),v&&v.checkbox){let g=document.createElement("input");g.type="checkbox",g.value=i.id,l.insertAdjacentElement("beforeend",g),g.addEventListener("change",function(E){console.log("level",y);let b=p.querySelectorAll(`div[data-level="${y+1}"]`);if(b&&b.length>0)for(let q of b){let m=q.querySelector('input[type="checkbox"]');m.checked=!0,p.value.includes(m.value)||p.value.push(m.value)}let k=p.querySelectorAll(`div[data-level="${y}"]`);if(k&&k.length>0){let q=!0;for(let $ of k)$.querySelector('input[type="checkbox"]').checked==!1&&(q=!1);let m=this.parentNode.parentNode.parentNode.parentNode.querySelector('div[name="tree"] input[type="checkbox"]');q==!0?(m.checked=!0,p.value.includes(m.value)||p.value.push(m.value)):(m.checked=!1,c(p.value,m.value))}this.checked?p.value.includes(this.value)||p.value.push(this.value):c(p.value,this.value),p.dispatchEvent(new Event("change"))})}if(l.insertAdjacentHTML("beforeend",`<span class="ws{nowrap}" name="tree-name">${i.name}</span>`),s.insertAdjacentElement("afterbegin",l),h.insertAdjacentElement("beforeend",s),console.log("node",i,i.childs),i.childs&&i.childs.length>0){let g=document.createElement("ul");g.classList.add("dN"),f(i.childs,y,g,p),s.insertAdjacentElement("beforeend",g)}}function t(i){try{return JSON.parse(i)}catch{return null}}function o(i,h){for(let y of h){if(y.id===i)return y;if(y.childs&&y.childs.length>0){let p=o(i,y.childs);if(p)return p}}return null}function c(i,h){let y=i.findIndex(p=>p===h);y!==-1&&i.splice(y,1)}let d=null;function a(i){console.log("onDragStart",i.target.getAttribute("data-id")),d=i.currentTarget,i.dataTransfer.effectAllowed="move",i.dataTransfer.setData("text/html",d.outerHTML)}function u(i){i.preventDefault(),i.dataTransfer.dropEffect="move"}function L(i){i.preventDefault();let h=d.getAttribute("data-id"),y=i.currentTarget.getAttribute("data-id");if(console.log("onDrop",i.currentTarget.getAttribute("data-id"),d.getAttribute("data-id")),h!==y){let p=i.currentTarget.querySelector("ul");if(console.log("abc",p),p)p.appendChild(d);else{let v=document.createElement("ul");v.appendChild(d),i.currentTarget.appendChild(v)}}d=null}})();(()=>{$el("x-table",[],o=>{let c=$state(),d=$state([]);Object.defineProperties(o,{selected:{get:()=>c.val,set:a=>{c.val=a},configurable:!0},data:{get:()=>d.val,set:(a,u=!1)=>{Array.isArray(a)&&(d.val=a,[!0,!1].includes(u)&&u==!0&&w(o))},configurable:!0}}),w(o)},(o,c,d,a)=>{c=="t-options"&&a&&w(o)});function w(o){var c=o.options();console.log("options",c),c.mutilSelect&&c.mutilSelect==!0&&(o.selected=[]);let d=f(o.getAttribute("x-data")),a=Array.isArray(d)?d:[],u=f(o.getAttribute("x-head")),L=Array.isArray(u)?u:[],i=document.createElement("div");i.classList.add("oflxA","oflyA","wF","sbc{#F5F6FA_transparent}","sbw{thin}");let h=document.createElement("table");h.classList.add("md:w100%","bdcl","bdc{#F1F1F3}","vaM","fns0.9375rem","fw{bold};thead","fns--fs;thead","bdb{1px;solid;#F1F1F3};td","p{0.625rem;0.825rem};td","wrb{break-word};td");let y=document.createElement("thead"),p=document.createElement("tr");if(p.classList.add("ta{left}","posSt","t0px","z1"),L&&L.length>0)for(let e of L){let s=document.createElement("td");s.innerText=e.name,p.appendChild(s)}y.appendChild(p);let v=document.createElement("tbody");if(v.classList.add("bgc{#EDEEF0};tr:hover","cr{pointer};tr","ta{left};tr"),a&&a.length>0)for(let e of a){let s=document.createElement("tr");console.log("trBodyTag",e.id),s.setAttribute("data-id",e.id);for(let l of L)for(let x in e)if(l.field==x){let g=document.createElement("td");g.innerText=e[x],s.appendChild(g)}s.addEventListener("click",function(l){let x=this.getAttribute("data-id");if(c.mutilSelect&&c.mutilSelect==!0){let g=o.selected.includes(x);g?o.selected=t(o.selected,x):o.selected.push(x),this.classList.toggle("c{#39c}",!g),this.classList.toggle("bg{#eee}",!g)}else o.selected=x,n(o),this.classList.toggle("c{#39c}",!0),this.classList.toggle("bg{#eee}",!0)}),v.appendChild(s)}h.insertAdjacentElement("afterbegin",y),h.appendChild(v),i.insertAdjacentElement("afterbegin",h),o.insertAdjacentElement("afterbegin",i)}function f(o){try{return JSON.parse(o)}catch{return null}}function n(o){let c=o.getElementsByTagName("tr");if(c&&c.length>0)for(let d of c)d.classList.toggle("c{#39c}",!1),d.classList.toggle("bg{#eee}",!1)}function t(o,c){if(typeof c=="object"&&c!==null){let[d,a]=Object.entries(c)[0];return o.filter(u=>u[d]!==a)}else return o.filter(d=>d!==c)}})();(()=>{$el("x-text",[],f=>{w(f),Object.defineProperties(f,{value:{get:()=>f.querySelector("textarea")?.value,set:n=>{f.querySelector("textarea").value=n}},setReadOnly:{value:n=>{n&&[!0,!1].includes(n)&&(n?f.querySelector("textarea")?.setAttribute("readonly","true"):f.querySelector("textarea")?.removeAttribute("readonly"))},writable:!1},setDisable:{value:n=>{n&&[!0,!1].includes(n)&&(r?f.querySelector("textarea")?.setAttribute("disabled","true"):f.querySelector("textarea")?.removeAttribute("disabled"))},writable:!1}})},(f,n,t,o)=>{n=="t-options"&&o&&w(f)});function w(f){var n=f.options();n.class=n.class||["w100%","mih2.5rem","bd{1px;solid;#E8E9EC}","bda0.25rem","c{#141735}","dB","p{.45rem;1rem}","xs:px{0.5rem}","oli{none}"],Array.isArray(n.class)||(n.class=n.class.split(" ").filter(o=>o)),n.class=n.class.join(" "),f.innerHTML=`<textarea ${Object.keys(n).map(o=>`${o}="${n[o]}"`).join(" ")}></textarea>`;let t=f.querySelector("textarea");t&&(t.oninput=o=>{o.target.style.height="auto",o.target.style.height=o.target.scrollHeight+2+"px"})}})();(()=>{$el("t-date",[],t=>{w(t)},(t,o,c,d)=>{});function w(t){var o=t.options();t.innerHTML=`<div class="t-datebox df aic"><div class="posR">
  <span class="bd bda5px p3px df aic">
  	<span class="t-input-date bd0px posr">
     	<span class="">dd</span>
          <input class="tac bd0px posa w100% h100% t0px l0px" placeholder="dd">
     </span>/
     <span class="t-input-month posr">
     	<span class="p3px">mm</span>
          <input class="tac bd0px posa w100% h100% t0px l0px" placeholder="mm">
     </span>/
     <span class="t-input-year posr">
     	<span class="">yyyy</span>
          <input class="tac bd0px posa w100% h100% t0px l0px" placeholder="yyyy">
     </span>
     <t-svg class="cicon w23px h23px ml5px cr" t-options="name:'user',fill:'${$colors.icon||"gray"}'"></t-svg>
  </span>
     <span class="t-select dn">
     	<div class="posA w{auto} h{auto}">
            <div class="d-head"></div>
            <div class="d-body dG gtc{23px;23px;23px;23px;23px;23px;23px;}">

            </div>
            <div class="d-foot df aic jcC">
                 <t-button class="btn_clear" t-options="name:'',title:'Clear'"></t-button>
                 <t-button class="btn_today" t-options="name:'',title:'Today'"></t-button>
            </div>
       </div>
     </span>
  </div></div>`,t.onchange=()=>{console.log("onchange",t.val())},t.querySelector(".btn_today").onclick=()=>{t.val(Date.now())},t.querySelector(".btn_clear").onclick=()=>{c.forEach(d=>{d.value=""}),t.querySelector(".t-select").classList.add("dn"),typeof t.onchange=="function"&&t.onchange(t)},t.querySelector(".cicon").onclick=()=>{var d=t.val(),a=new Date(d||new Date),u=a.getDate(),L=a.getMonth(),i=1;a=new Date(`${a.getFullYear()}-${a.getMonth()+1}-1`);var h=1;for(t.querySelector(".t-select .d-body").innerHTML="";a.getDay()>h;){var y=new Date(a.getTime()-(a.getDay()-h)*864e5);p(y,1),h++}for(;a.getMonth()==L;)p(a),a=new Date(a.getTime()+864e5);for(h=a.getDay();h<=7;)p(a,1),h++,a=new Date(a.getTime()+864e5);t.querySelector(".t-select").classList.remove("dn");function p(v,e){var s=document.createElement("span");s.innerHTML=`<div class="w23px h23px df aic cr jcC ${v.getDate()==u?"bd":""} ${v.getMonth()==L&&v.getDate()==u?"bg{green}":""} ${e?"bg#ccc c#9e9e9e":""}">${v.getDate()}</div>`,t.querySelector(".t-select .d-body").append(s),s.onclick=()=>{t.val(v)}}};var c=t.querySelectorAll("input");c.forEach((d,a)=>{d.addEventListener("keydown",u=>{u.keyCode==39?a<2&&d.selectionEnd==2&&setTimeout(()=>{c[a+1].focus()}):u.keyCode==37?a>0&&d.selectionEnd==2&&setTimeout(()=>{c[a-1].focus()}):u.keyCode==38||u.keyCode==40,console.log(u)}),d.addEventListener("keypress",u=>{if(u.key==13)return t.onchange(t);if("0,1,2,3,4,5,6,7,8,9".includes(u.key)){if(a<2&&u.target.value.length==2||a==2&&u.target.value.length==4)return event.preventDefault();if(a<2&&u.target.value.length==1){var L=a+1;L<3&&setTimeout(()=>{c[L].focus()})}else a==2&&u.target.value.length==3}else return event.preventDefault();d.previousElementSibling.innerText=d.value.padStart(a<2?2:4,0)})}),c[1].addEventListener("blur",d=>{var a=+c[1].value||new Date().getMonth()+1;a>12&&(a=12),c[1].value=(a+"").padStart(2,0)}),t.val=d=>{if(d){var a=new Date(d);c[0].value=a.getDate(),c[1].value=a.getMonth()+1,c[2].value=a.getFullYear()}var a=[c[2].value,c[1].value,c[0].value].join("-"),u=new Date(a);if(u+""!="Invalid Date")return t.querySelector(".t-select").classList.add("dn"),[u.getFullYear(),u.getMonth()+1,u.getDate()].join("-")}}function f(t){}function n(t){}})();(()=>{$el("t-datetime",[],t=>{w(t)},(t,o,c,d)=>{});function w(t){var o=t.options();t.innerHTML=`<div class="t-datebox df aic"><div class="posR">
  <span class="bd bda5px p3px df aic">
  	<span class="t-input-date bd0px posr">
     	<span class="">dd</span>
          <input class="tac bd0px posa w100% h100% t0px l0px" placeholder="dd">
     </span>/
     <span class="t-input-month posr">
     	<span class="p3px">mm</span>
          <input class="tac bd0px posa w100% h100% t0px l0px" placeholder="mm">
     </span>/
     <span class="t-input-year posr">
     	<span class="">yyyy</span>
          <input class="tac bd0px posa w100% h100% t0px l0px" placeholder="yyyy">
     </span>
     <span class="t-input-time posr">
     	<span class="">hh:ii</span>
          <input class="tac bd0px posa w100% h100% t0px l0px" placeholder="hh:ii">
     </span>
     <t-svg class="cicon w23px h23px ml5px cr" t-options="name:'user',fill:'${$colors.icon||"gray"}'"></t-svg>
  </span>
     <span class="t-select dn">
     	<div class="posA w{auto} h{auto}">
            <div class="d-head"></div>
            <div class="d-body dG gtc{23px;23px;23px;23px;23px;23px;23px;}">

            </div>
            <div class="d-foot df aic jcC">
                 <t-button class="btn_clear" t-options="name:'',title:'Clear'"></t-button>
                 <t-button class="btn_today" t-options="name:'',title:'Today'"></t-button>
            </div>
       </div>
     </span>
  </div></div>`,t.onchange=()=>{console.log("onchange",t.val())},t.querySelector(".btn_today").onclick=()=>{t.val(Date.now())},t.querySelector(".btn_clear").onclick=()=>{c.forEach(d=>{d.value=""}),t.querySelector(".t-select").classList.add("dn"),typeof t.onchange=="function"&&t.onchange(t)},t.querySelector(".cicon").onclick=()=>{var d=t.val(),a=new Date(d||new Date),u=a.getDate(),L=a.getMonth(),i=1;a=new Date(`${a.getFullYear()}-${a.getMonth()+1}-1`);var h=1;for(t.querySelector(".t-select .d-body").innerHTML="";a.getDay()>h;){var y=new Date(a.getTime()-(a.getDay()-h)*864e5);p(y,1),h++}for(;a.getMonth()==L;)p(a),a=new Date(a.getTime()+864e5);for(h=a.getDay();h<=7;)p(a,1),h++,a=new Date(a.getTime()+864e5);t.querySelector(".t-select").classList.remove("dn");function p(v,e){var s=document.createElement("span");s.innerHTML=`<div class="w23px h23px df aic cr jcC ${v.getDate()==u?"bd":""} ${v.getMonth()==L&&v.getDate()==u?"bg{green}":""} ${e?"bg#ccc c#9e9e9e":""}">${v.getDate()}</div>`,t.querySelector(".t-select .d-body").append(s),s.onclick=()=>{t.val(v)}}};var c=t.querySelectorAll("input");c.forEach((d,a)=>{d.addEventListener("keydown",u=>{u.keyCode==39?a<2&&d.selectionEnd==2&&setTimeout(()=>{c[a+1].focus()}):u.keyCode==37?a>0&&d.selectionEnd==2&&setTimeout(()=>{c[a-1].focus()}):u.keyCode==38||u.keyCode==40,console.log(u)}),d.addEventListener("keypress",u=>{if(u.key==13)return t.onchange(t);if("0,1,2,3,4,5,6,7,8,9".includes(u.key)){if(a<2&&u.target.value.length==2||a==2&&u.target.value.length==4)return event.preventDefault();if(a<2&&u.target.value.length==1){var L=a+1;L<3&&setTimeout(()=>{c[L].focus()})}else a==2&&u.target.value.length==3}else return event.preventDefault();d.previousElementSibling.innerText=d.value.padStart(a<2?2:4,0)})}),c[1].addEventListener("blur",d=>{var a=+c[1].value||new Date().getMonth()+1;a>12&&(a=12),c[1].value=(a+"").padStart(2,0)}),t.val=d=>{if(d){var a=new Date(d);c[0].value=a.getDate(),c[1].value=a.getMonth()+1,c[2].value=a.getFullYear()}var a=[c[2].value,c[1].value,c[0].value].join("-"),u=new Date(a);if(u+""!="Invalid Date")return t.querySelector(".t-select").classList.add("dn"),[u.getFullYear(),u.getMonth()+1,u.getDate()].join("-")}}function f(t){}function n(t){}})();$el("t-time",[],w=>{var f=w.options();w.innerHTML=`<input placeholder="hh:ii" ${Object.keys(f).map(n=>`${n}="${f[n]}"`).join(" ")}>`},(w,f,n,t)=>{});(()=>{var w={height:24,width:24,viewBox:"0 -960 960 960",fill:$$colors?.bgmain??"var(--c-dgreen)"};function f(n){console.log("color",$$colors);let{svg:t,path:o,title:c}=$tags("http://www.w3.org/2000/svg");n.innerText="";var d=n.options(),a=$data.find(i=>i.name==d.name);let u=[];if(Array.isArray(a?.svg))for(let i of a.svg)u.push(o({d:i??""}));else u.push(o({d:a?.svg}));var L={...w};[...Object.keys(w),"name"].map(i=>{if(typeof d[i]<"u")return L[i]=d[i];if(a&&typeof a[i]<"u")return L[i]=a[i]}),n.$el=a?t(L,...u):null,$add(n,n.$el)}$el("x-svg",[],n=>{f(n),n.changeName=t=>{let o=$data.find(c=>c.name===t);n.querySelector("path")?.setAttribute("d",o?.svg)}},(n,t,o,c)=>{t=="t-options"&&c&&f(n)})})();})();
