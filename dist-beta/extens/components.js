(()=>{(()=>{$el("x-input",[],e=>{w(e),Object.defineProperties(e,{value:{get:()=>e.querySelector("input")?.value,set:s=>{e.querySelector("input").value=s}},setType:{value:s=>{s&&["text","password","email","number","search","tel"].includes(r)&&e.querySelector("input")?.setAttribute("type",s)},writable:!1},setReadOnly:{value:s=>{s&&[!0,!1].includes(s)&&(s?e.querySelector("input")?.setAttribute("readonly","true"):e.querySelector("input")?.removeAttribute("readonly"))},writable:!1},setDisable:{value:s=>{s&&[!0,!1].includes(s)&&(r?e.querySelector("input")?.setAttribute("disabled","true"):e.querySelector("input")?.removeAttribute("disabled"))},writable:!1},setIcon:{},setError:{},setHelper:{}})},(e,s,o,c)=>{s=="t-options"&&c&&w(e)});function w(e){console.log("helper",e.getAttribute("data-helper"));var s=e.options(),o=e.getAttribute("data-icon"),c=e.getAttribute("data-helper"),a=e.getAttribute("data-pattern");if(s.class=s.class||["mih2.5rem","w100%","oli{none}","bd{1px;solid;#4D4F5C}","bda0.25rem","c{#4D4F5C}","p{.45rem;3rem;.45rem;1rem}","fns--fs-s"],Array.isArray(s.class)||(s.class=s.class.split(" ")),s.class=s.class.join(" "),o&&v(d(o)))var u=`<x-svg t-options='${o}' class="dB wFc posA b{20%} r0.5rem"></x-svg>`;if(c&&v(d(c)))var T=`<div class="c{#4D4F5C80} fns--fs-s">${d(c).text}</div>`;e.innerHTML=`
        <div class="dF fxdC gap0.5rem">
            <div class="posR">
                <input ${Object.keys(s).map(f=>`${f}="${s[f]}"`).join(" ")}>
                ${u}
            </div>
            ${T}
        </div>`;let n=e.querySelector("input");n&&(n.oninput=f=>{console.log("input",f.target.value),e.value=f.target.value,e.dispatchEvent(new Event("input"))},n.onchange=f=>{console.log("onchange",f.target.value),e.value=f.target.value,a&&(new RegExp(a).test(f.target.value)?(n.classList.toggle("bd{1px;solid;#4D4F5C}",!0),n.classList.toggle("bd{1px;solid;#FF6565}",!1)):(n.classList.toggle("bd{1px;solid;#FF6565}",!0),n.classList.toggle("bd{1px;solid;#4D4F5C}",!1))),e.dispatchEvent(new Event("change"))})}function v(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}function d(e){try{return JSON.parse(e)}catch{return null}}})();(()=>{$el("x-button",[],e=>{w(e),e.setDisable=s=>{},e.setIcon=s=>{},e.hideIcon=s=>{},e.options=()=>{},e.resize=()=>{}},(e,s,o,c)=>{s=="t-options"&&c&&w(e)});function w(e){var s=e.options(),o=e.getAttribute("data-icon");s.class=s.class||["cr","flt{brightness(90%);contrast(200%)}:hover","td","wFc","dF","aiC","gap2rem","xs:px{1.5rem}","p{0.8rem;3.3rem}","fns--fs-m","bg{var(--c-lgreen)}","bda1.5625rem","bd!N"],Array.isArray(s.class)||(s.class=s.class.split(" ").filter(a=>a)),s.class=s.class.join(" ");var c="";o&&v(d(o))&&(c=`<x-svg t-options='${o}'></x-svg>`),e.innerHTML=`<a ${Object.keys(s).map(a=>`${a}="${s[a]}"`).join(" ")}>${c} ${s.title}</a>`}function v(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}function d(e){try{return JSON.parse(e)}catch{return null}}})();(()=>{$el("t-link",[],v=>{w(v)},(v,d,e)=>{name=="t-options"&&e&&w(v)});function w(v){var d=v.options();d.class=d.class||["p{10px}","cr"],Array.isArray(d.class)||(d.class=d.class.split(" ").filter(s=>s)),d.class.push("bd{1px;solid;#ccc}","jcC","p10px","d{inline-flex}"),d.class=d.class.join(" ");var e="";d.icon&&(e=`<t-svg t-options='${JSON.stringify(d.icon)}'></t-svg>`,delete d.icon),v.innerHTML=`<a ${Object.keys(d).map(s=>`${s}="${d[s]}"`).join(" ")}>${e} ${d.title}</a>`}})();(()=>{$el("x-combo",[],t=>{var i=$state(),l=$state([]);let x=new Set;Object.defineProperties(t,{value:{get:()=>i.val,set:g=>{i.val=g},configurable:!0},setValue:{value:g=>{i.val=g,f(t,x)},writable:!1},getDataOption:{value:()=>l.val,writable:!1},setDataOption:{value:g=>{Array.isArray(g)&&g.length>0&&(l.val=g)},writable:!1},setReadOnly:{},setDisable:{},setHelper:{}}),w(t,x)},(t,i,l,x)=>{i=="t-options"&&x&&w(t)});function w(t,i){let l=t.options();l.multiple=l.multiple||!1,t.value=l.multiple?[]:"",l.value&&(t.value=l.multiple?Array.isArray(l.value)?l.value:[]:["object","function","undefined"].includes(typeof l.value)?"":l.value),l.tags=l.tags||!1,l.allowClear=l.allowClear||!1,l.suggest=l.suggest||!1,l.search=l.search||!1,l.hideClearButton=l.hideClearButton||!0,l.searchDelay=l.searchDelay||300;let x=t.getAttribute("data-helper"),g=t.getAttribute("data-options"),$="";l.class=l.class||["dF","aiC","gap0.25rem","fxw","bd{1px;solid;#dee4f0}","bda0.375rem","p{0.25rem;1rem}","mih2.5rem","posR","bd!N;>;label"],Array.isArray(l.class)||(l.class=l.class.split(" ")),l.class=l.class.join(" ");var y="";if(x&&v(d(x))){let S=d(x);var y=S.text?`<div class="${S.color??"c{var(--c-red)}"} fns--fs-s">${S.text}</div>`:""}if(g&&Array.isArray(d(g))){let S=d(g);if(Array.isArray(S)&&S.length>0){t.setDataOption(S);for(let D of S){let F=!1;if(Array.isArray(t.value))for(let M of t.value)M==D.value&&(i.add(D.label),F=!0);else D.value==t.value&&(i.add(D.label),F=!0);$+=`
                    <label class="cr dF gap0.5rem ws{normal} bda0.375rem bg{transparent} bg{#E8E9EC}:active bg{#E8E9EC}:hover wrb{break-work} clr{both} c{#566177} p0.625rem w100% bd!N" data-value="${D.value??""}" data-label="${D.label??""}">
                        <input class="fxs bda0.25rem bgc{var(--c-white)} bd{1px;solid;#cdb5e1} h1em w1em vaT" type="checkbox" ${F?"checked":""} value="${D.value??""}"/>
                        ${D.label??""}
                    </label>`}}}let k="";l.allowClear&&(k=`<x-svg class="dB wFc posA r{0.5rem} cr bxshd{0px;4px;12px;#3333331f}:hover d!N bda50%" t-options="name:'close',fill:'#aabad0', width:18, height: 18" name="clear_select"></x-svg>`);let q="";l.suggest||l.search&&(q=`<div class="dF aiC bdb{1px;solid;#ddd}">
                        <input type="text" placeholder="Search..." class="bdN oli{none} mih2rem dB fns0.875rem w100%" name="search">
                        <x-svg class="dB wFc posA r{1rem} opc0.8 opc1:hover cr bxshd{0px;4px;12px;#3333331f}:hover bda50% d!N" t-options="name:'close',fill:'#aabad0', width:18, height:18" name="clear_search"></x-svg>
                    </div>`),t.innerHTML=`
        <div class="dF fxdC gap1rem bxsz{'border-box'}">
            <div class="${l.class}" name='combobox-container'>
                <div class="dF fxdC fx1">
                    <input class="bg{var(--c-white)} c{var(--c-black)} bdN oli{none} mih2.5rem dB fns0.875rem w100% pr0.875rem bd!N cr" ${l.suggest?"":"readonly"} name="filter" autocomplete="off" placeholder="${l.placeholder??""}"/>
                    <div class="bxshd{0px;4px;12px;#3333331f} h{fit-content} mt0.25rem bgc{var(--c-white)} w100% bda0.375rem fns0.875rem p0.625rem posA taL z{1000} t100% l0 bd!N dN" name="dropdown">
                        ${q}
                        ${$}
                        <div class="dF aiC d!N p{0.5rem;1rem}" name="no-result">Kh\xF4ng c\xF3 k\u1EBFt qu\u1EA3 n\xE0o \u0111\u01B0\u1EE3c t\xECm th\u1EA5y</div>
                    </div>
                </div>
                ${k}
                <x-svg class="dB wFc posA r{0.5rem} tra{rotate(90deg)} cr" t-options="name:'chevron_right',fill:'#aabad0', width:18, height:18" name="arrow"></x-svg>
            </div>
            ${y}
        </div>`;let m=t.querySelector('input[name="filter"]'),L=t.querySelector('x-svg[name="arrow"]'),E=t.querySelector('div[name="dropdown"]'),C=t.querySelector('div[name="combobox-container"]'),A=E.getElementsByTagName("label"),N=t.querySelector('x-svg[name="clear_select"]'),O=t.querySelector('input[name="search"]'),j=-1;if(A.length>0)for(let S of A)S.onclick=D=>{D.stopPropagation(),D.target.tagName=="LABEL"&&T(l.multiple,D.target,t,l.allowClearItem,C,A,m,E,L,i,l.allowClear,N)};N&&(N.onclick=S=>{if(Array.isArray(t.value))if(t.value.length=0,t.value=[],l.allowClearItem){let D=C.querySelectorAll('span[name2="option-allow-clear"]');if(D&&D.length>0)for(let F of D)F.remove()}else m.value="";else t.value="",m.value="";i.clear();for(let D of A)D.querySelector('input[type="checkbox"]').checked=!1;N.classList.toggle("d!N",!0)}),m&&(m.oninput=S=>{n(S.target,A,E,l.multiple,l.allowClearItem,t,i),l.suggest&&!l.allowClearItem&&E.classList.contains("dN")&&s(E,L)},m.onclick=S=>{o(A,E),l.suggest&&!l.allowClearItem||s(E,L)},m.onkeyup=S=>{if(["Tab","Enter","ArrowDown","ArrowUp","Escape"].includes(S.key))switch(S.stopPropagation(),S.key){case"Escape":E.classList.toggle("dN",!0);break;case"Tab":case"Enter":j==-1&&(j=0);let D=A[j];T(l.multiple,D,t,l.allowClearItem,C,A,m,E,L,i,l.allowClear,N,!0);break;default:break}}),O&&(O.oninput=S=>{n(S.target,A,E,!1,!1,t,i)}),L&&(L.onclick=S=>{s(E,L)}),E&&(E.onclick=S=>{S.stopPropagation()}),C&&(C.onkeydown=S=>{(S.key==="Tab"||S.key==="Enter")&&S.preventDefault(),(S.key==="ArrowDown"||S.key==="ArrowUp")&&(S.preventDefault(),S.key==="ArrowDown"&&(j=(j+1)%A.length,c(j,A)),S.key==="ArrowUp"&&(j=(j-1+A.length)%A.length,c(j,A)))}),t.value&&t.value.length>0&&b(t,E,A,C,L,N,m,i),document.addEventListener("click",function(S){if(!S.target.closest('div[name="combobox-container"]')){let D=t.querySelector('div[name="dropdown"]'),F=t.querySelector('x-svg[name="arrow"]');D.classList.toggle("dN",!0),e(D,F)}})}function v(t){return t!==null&&typeof t=="object"&&!Array.isArray(t)}function d(t){try{return JSON.parse(t)}catch{return null}}function e(t,i){t.classList.contains("dN")?(i.classList.toggle("tra{rotate(90deg)}",!0),i.classList.toggle("tra{rotate(270deg)}",!1)):(i.classList.toggle("tra{rotate(90deg)}",!1),i.classList.toggle("tra{rotate(270deg)}",!0))}function s(t,i){window.currentlyOpenDropdown&&window.currentlyOpenDropdown!==t&&window.currentlyOpenDropdown.classList.add("dN"),t?.classList.toggle("dN");var l=t.getBoundingClientRect();l.bottom>window.innerHeight?(t.classList.toggle("t100%",!1),t.classList.toggle("t{-205%}",!0)):(t.classList.toggle("t100%",!0),t.classList.toggle("t{-205%}",!1)),e(t,i),window.currentlyOpenDropdown=t.classList.contains("dN")?null:t}function o(t,i){if(t.length>0){i.querySelector('div[name="no-result"]').classList.toggle("d!N",!0);for(let l of t)l.classList.toggle("d!N",!1),l.classList.toggle("bg!{#E8E9EC}",!1)}}function c(t,i){if(i.length>0)for(let l of i)l.classList.toggle("bg!{#E8E9EC}",!1);t>=0&&t<i.length&&i[t].classList.toggle("bg!{#E8E9EC}",!0)}function a(t,i,l){let x=t.querySelector('input[type="checkbox"]'),g=x?x.value:t.getAttribute("data-value"),$=t.getAttribute("data-label"),y=i.value??[],k=!1;return y.includes(g)?i.value=y.filter(q=>q!==g):(i.value.push(g),k=!0),l.has($)?l.delete($):l.add($),{selectedValues:Array.from(l),newText:$.trim(),chosen:k,newValue:g}}function u(t,i,l,x,g,$){let{span:y,"x-svg":k}=$tags,q=k({class:"dB wFc","t-options":'name:"close", width:16, height:16, fill: "#4D4F5C"',"data-value":t,onclick:L=>{g.querySelector(`span[name="options-${t}"]`)?.remove(),$.querySelector(`label[data-value="${t}"]`).querySelector('input[type="checkbox"]').checked=!1,l.value=l.value.filter(E=>E!==t),x.has(i)&&x.delete(i)}});return y({class:"dF aiC miw1px c{#4D4F5C} bda0.75rem bd{1px;solid;#E8E9EC} fns0.875rem p{0.25rem;0.5rem} gap0.25rem wrb{break-word}",innerText:i,name:`options-${t}`,name2:"option-allow-clear"},q)}function T(t,i,l,x,g,$,y,k,q,m,L,E,C=!1){if(t){let A=a(i,l,m);if(C&&(i.querySelector('input[type="checkbox"]').checked=A.chosen),x)if(A.chosen){let N=u(A.newValue,A.newText,l,m,g,k);g.prepend(N)}else l.querySelector(`span[name="options-${A.newValue}"]`)?.remove();else y.value=A.selectedValues.join(", "),y.scrollWidth>y.clientWidth&&(y.value=`\u0110\xE3 ch\u1ECDn (${A.selectedValues.length})`)}else{p($);let A=i.querySelector('input[type="checkbox"]');A.checked=!0,l.value=A.value,y.value=i.innerText.trim(),k?.classList.toggle("dN"),e(k,q)}h(L,l.value,q,E)}function n(t,i,l,x,g,$,y){let k=t.value;x&&!g&&(k=k.split(",").map(m=>m.trim()));let q=!0;for(let m=0;m<i.length;m++){let L=i[m].textContent?.trim()||i[m].innerText?.trim();if(Array.isArray(k)){k.some(A=>L.toUpperCase().includes(A.toUpperCase()))?(q=!1,i[m].classList.toggle("d!N",!1)):i[m].classList.toggle("d!N",!0);let E=i[m].getAttribute("data-value"),C=i[m].getAttribute("data-label");console.log("input search",E,C),k.some(A=>C===A)?$.value.includes(E)||($.value=[...$.value,E],y.add(C),i[m].querySelector('input[type="checkbox"]').checked=!0):$.value.includes(E)&&($.value=$.value.filter(A=>A!==E),y.delete(C),i[m].querySelector('input[type="checkbox"]').checked=!1)}else L.toUpperCase().indexOf(k.toUpperCase())>-1?(q=!1,i[m].classList.toggle("d!N",!1)):i[m].classList.toggle("d!N",!0)}q?l.querySelector('div[name="no-result"]').classList.toggle("d!N",!1):l.querySelector('div[name="no-result"]').classList.toggle("d!N",!0)}function f(t,i){let l=t.querySelector('input[name="filter"]'),x=t.querySelector('x-svg[name="arrow"]'),g=t.querySelector('div[name="dropdown"]'),$=t.querySelector('div[name="combobox-container"]'),y=g.getElementsByTagName("label"),k=t.querySelector('x-svg[name="clear_select"]');b(t,g,y,$,x,k,l,i,!0)}function b(t,i,l,x,g,$,y,k,q=!1){let m=t.options();if(m.multiple){if(m.allowClearItem){let L=x.querySelectorAll('span[name2="option-allow-clear"]');if(L&&L.length>0)for(let E of L)E.remove();if(Array.isArray(t.value)&&t.value.length>0)for(let E of t.value){let C="";for(let N of t.getDataOption())if(N.value==E){C=N.label;break}let A=u(E,C,t,k,x,i);x.prepend(A)}}else y.value=Array.from(k).join(", "),y.scrollWidth>y.clientWidth&&(y.value=`\u0110\xE3 ch\u1ECDn (${k.length})`);if(q&&Array.isArray(t.value)&&t.value.length>0){p(l);for(let L of t.value){let C=i.querySelector(`label[data-value="${L}"]`)?.querySelector('input[type="checkbox"]');C&&(C.checked=!0)}}}else{let L=i.querySelector(`label[data-value="${t.value}"]`);if(q){p(l);let E=L?.querySelector('input[type="checkbox"]');E&&(E.checked=!0)}y.value=L.innerText.trim()}h(t.value,m.allowClear,g,$)}function p(t){if(t&&t.length>0)for(let i of t)i.querySelector("input").checked=!1}function h(t,i,l,x){i&&(t&&t.length>0?(l.classList.toggle("d!N",!0),x.classList.toggle("d!N",!1)):(l.classList.toggle("d!N",!1),x.classList.toggle("d!N",!0)))}})();$el("t-combobox",[],w=>{var v=w.options();w.innerHTML=`<select name="${v.name||""}">
  	<option name=""> ----- </option>
  	<option name="1">Level 1</option>
  	<option name="2">Level 2</option>
  </select>`},(w,v,d,e)=>{v=="t-options"});(()=>{$el("x-tree",[],n=>{let f=$state(),b=$state();var p=$state([]);Object.defineProperties(n,{value:{get:()=>f.val,set:h=>{f.val=h},configurable:!0},selected:{get:()=>b.val,set:h=>{b.val=h},configurable:!0},data:{get:()=>p.val,set:h=>{Array.isArray(h)&&(p.val=h)},configurable:!0},setData:{value:(h,t=!1)=>{Array.isArray(h)&&(p.val=h,[!0,!1].includes(t)&&t==!0&&w(n))},writable:!1}}),w(n)},(n,f,b,p)=>{f=="t-options"&&p&&w(n)});function w(n){var f=n.options();f.checkbox&&(n.value=[]);let b=e(n.getAttribute("x-data"));console.log("options",f),b&&Array.isArray(b)&&b.length>0&&(n.data=b);let p=document.createElement("ul");p.classList.add("ws{nowrap};li"),v(n.data,0,p,n),n.insertAdjacentElement("afterbegin",p),f&&f.editEnable&&document.addEventListener("click",function(h){h.target.closest('div[name="tree"]')||(console.log("el",n.selected),n.selected&&(n.querySelector(`div[data-id="${n.selected.id}"] > span[name="tree-name"]`).classList.toggle("dN",!1),n.querySelector(`div[data-id="${n.selected.id}"] > input[type="text"]`)?.remove()))})}function v(n,f,b,p){if(!(!n||Array.isArray(n)&&n.length==0)){f+=1;for(let h of n)d(h,b,f,p)}}function d(n,f,b,p){let h=p.options(),t=h.checkbox?h.checkbox:!1,i=document.createElement("li");i.setAttribute("data-id",n.id),i.setAttribute("data-level",b);let l=document.createElement("div");l.classList.add("dF","h1rem","ws{nowrap}","cr","gap0.25rem","bdl{2px;solid;transparent}","mih1.5rem","aiC"),l.setAttribute("name","tree"),l.setAttribute("data-id",n.id),l.setAttribute("data-level",b);for(var x=0;x<b-1;x++)l.insertAdjacentHTML("afterbegin",'<span class="dIb w1rem h1rem m{0.25rem;0} va{middle} ofl{hidden}"></span>');if(n.childs&&n.childs.length>0?(l.insertAdjacentHTML("beforeend",`<x-svg class="dB wFc" t-options="name:'arrow_right', width:18, height:18" name="arrow"></x-svg>`),l.insertAdjacentHTML("beforeend",`<x-svg class="dB wFc" t-options="name:'folder',width:18, height:18"></x-svg>`),l.querySelector('x-svg[name="arrow"]').addEventListener("click",function($){$.stopPropagation(),$.target.closest("li").querySelector("ul").classList.toggle("dN"),this.classList.toggle("tra{rotate(45deg)}")})):l.insertAdjacentHTML("beforeend",`<x-svg class="dB wFc" t-options="name:'description',width:16, height:16"></x-svg>`),l.addEventListener("click",function(g){if(console.log("click",g.target.tagName),!(g.target.tagName=="INPUT"&&g.target.name=="tree-edit")){p.querySelectorAll('div[name="tree"]').forEach(function(y){y.classList.remove("bdl{2px;solid;#39c}","bgc{#eee}","c{#39c}"),y.classList.toggle("bdl{2px;solid;transparent}",!0),h&&h.editEnable&&(console.log("abc",l.querySelector('input[name="tree-edit"]')),y.querySelector('span[name="tree-name"]').classList.toggle("dN",!1),y.querySelector('input[type="text"]')?.remove())}),this.classList.remove("bdl{2px;solid;transparent}"),this.classList.add("bdl{2px;solid;#39c}","bgc{#eee}","c{#39c}");let $=this.getAttribute("data-id");if(t||(p.value=$,p.dispatchEvent(new Event("change"))),p.selected=s($,p.data),h&&h.editEnable){let y=document.createElement("input");y.type="text",y.value=n.name,y.name="tree-edit",l.querySelector('span[name="tree-name"]').classList.toggle("dN",!0),l.insertAdjacentElement("beforeend",y),y.addEventListener("change",function(k){console.log("inputTag",s($,p.data)),p.dispatchEvent(new CustomEvent("changeNode",{detail:{node_id:$,text:this.value}})),l.querySelector('span[name="tree-name"]').innerText=this.value})}}}),h&&h.checkbox){let g=document.createElement("input");g.type="checkbox",g.value=n.id,l.insertAdjacentElement("beforeend",g),g.addEventListener("change",function($){console.log("level",b);let y=p.querySelectorAll(`div[data-level="${b+1}"]`);if(y&&y.length>0)for(let q of y){let m=q.querySelector('input[type="checkbox"]');m.checked=!0,p.value.includes(m.value)||p.value.push(m.value)}let k=p.querySelectorAll(`div[data-level="${b}"]`);if(k&&k.length>0){let q=!0;for(let L of k)L.querySelector('input[type="checkbox"]').checked==!1&&(q=!1);let m=this.parentNode.parentNode.parentNode.parentNode.querySelector('div[name="tree"] input[type="checkbox"]');q==!0?(m.checked=!0,p.value.includes(m.value)||p.value.push(m.value)):(m.checked=!1,o(p.value,m.value))}this.checked?p.value.includes(this.value)||p.value.push(this.value):o(p.value,this.value),p.dispatchEvent(new Event("change"))})}if(l.insertAdjacentHTML("beforeend",`<span class="ws{nowrap}" name="tree-name">${n.name}</span>`),i.insertAdjacentElement("afterbegin",l),f.insertAdjacentElement("beforeend",i),console.log("node",n,n.childs),n.childs&&n.childs.length>0){let g=document.createElement("ul");g.classList.add("dN"),v(n.childs,b,g,p),i.insertAdjacentElement("beforeend",g)}}function e(n){try{return JSON.parse(n)}catch{return null}}function s(n,f){for(let b of f){if(b.id===n)return b;if(b.childs&&b.childs.length>0){let p=s(n,b.childs);if(p)return p}}return null}function o(n,f){let b=n.findIndex(p=>p===f);b!==-1&&n.splice(b,1)}let c=null;function a(n){console.log("onDragStart",n.target.getAttribute("data-id")),c=n.currentTarget,n.dataTransfer.effectAllowed="move",n.dataTransfer.setData("text/html",c.outerHTML)}function u(n){n.preventDefault(),n.dataTransfer.dropEffect="move"}function T(n){n.preventDefault();let f=c.getAttribute("data-id"),b=n.currentTarget.getAttribute("data-id");if(console.log("onDrop",n.currentTarget.getAttribute("data-id"),c.getAttribute("data-id")),f!==b){let p=n.currentTarget.querySelector("ul");if(console.log("abc",p),p)p.appendChild(c);else{let h=document.createElement("ul");h.appendChild(c),n.currentTarget.appendChild(h)}}c=null}})();(()=>{$el("x-table",[],s=>{let o=$state(),c=$state([]);Object.defineProperties(s,{selected:{get:()=>o.val,set:a=>{o.val=a},configurable:!0},data:{get:()=>c.val,set:(a,u=!1)=>{Array.isArray(a)&&(c.val=a,[!0,!1].includes(u)&&u==!0&&w(s))},configurable:!0}}),w(s)},(s,o,c,a)=>{o=="t-options"&&a&&w(s)});function w(s){var o=s.options();console.log("options",o),o.mutilSelect&&o.mutilSelect==!0&&(s.selected=[]);let c=v(s.getAttribute("x-data")),a=Array.isArray(c)?c:[],u=v(s.getAttribute("x-head")),T=Array.isArray(u)?u:[],n=document.createElement("div");n.classList.add("oflxA","oflyA","wF","sbc{#F5F6FA_transparent}","sbw{thin}");let f=document.createElement("table");f.classList.add("md:w100%","bdcl","bdc{#F1F1F3}","vaM","fns0.9375rem","fw{bold};thead","fns--fs;thead","bdb{1px;solid;#F1F1F3};td","p{0.625rem;0.825rem};td","wrb{break-word};td");let b=document.createElement("thead"),p=document.createElement("tr");if(p.classList.add("ta{left}","posSt","t0px","z1"),T&&T.length>0)for(let t of T){let i=document.createElement("td");i.innerText=t.name,p.appendChild(i)}b.appendChild(p);let h=document.createElement("tbody");if(h.classList.add("bgc{#EDEEF0};tr:hover","cr{pointer};tr","ta{left};tr"),a&&a.length>0)for(let t of a){let i=document.createElement("tr");console.log("trBodyTag",t.id),i.setAttribute("data-id",t.id);for(let l of T)for(let x in t)if(l.field==x){let g=document.createElement("td");g.innerText=t[x],i.appendChild(g)}i.addEventListener("click",function(l){let x=this.getAttribute("data-id");if(o.mutilSelect&&o.mutilSelect==!0){let g=s.selected.includes(x);g?s.selected=e(s.selected,x):s.selected.push(x),this.classList.toggle("c{#39c}",!g),this.classList.toggle("bg{#eee}",!g)}else s.selected=x,d(s),this.classList.toggle("c{#39c}",!0),this.classList.toggle("bg{#eee}",!0)}),h.appendChild(i)}f.insertAdjacentElement("afterbegin",b),f.appendChild(h),n.insertAdjacentElement("afterbegin",f),s.insertAdjacentElement("afterbegin",n)}function v(s){try{return JSON.parse(s)}catch{return null}}function d(s){let o=s.getElementsByTagName("tr");if(o&&o.length>0)for(let c of o)c.classList.toggle("c{#39c}",!1),c.classList.toggle("bg{#eee}",!1)}function e(s,o){if(typeof o=="object"&&o!==null){let[c,a]=Object.entries(o)[0];return s.filter(u=>u[c]!==a)}else return s.filter(c=>c!==o)}})();(()=>{$el("x-text",[],v=>{w(v),Object.defineProperties(v,{value:{get:()=>v.querySelector("textarea")?.value,set:d=>{v.querySelector("textarea").value=d}},setReadOnly:{value:d=>{d&&[!0,!1].includes(d)&&(d?v.querySelector("textarea")?.setAttribute("readonly","true"):v.querySelector("textarea")?.removeAttribute("readonly"))},writable:!1},setDisable:{value:d=>{d&&[!0,!1].includes(d)&&(r?v.querySelector("textarea")?.setAttribute("disabled","true"):v.querySelector("textarea")?.removeAttribute("disabled"))},writable:!1}})},(v,d,e,s)=>{d=="t-options"&&s&&w(v)});function w(v){var d=v.options();d.class=d.class||["w100%","mih2.5rem","bd{1px;solid;#E8E9EC}","bda0.25rem","c{#141735}","dB","p{.45rem;1rem}","xs:px{0.5rem}","oli{none}"],Array.isArray(d.class)||(d.class=d.class.split(" ").filter(s=>s)),d.class=d.class.join(" "),v.innerHTML=`<textarea ${Object.keys(d).map(s=>`${s}="${d[s]}"`).join(" ")}></textarea>`;let e=v.querySelector("textarea");e&&(e.oninput=s=>{s.target.style.height="auto",s.target.style.height=s.target.scrollHeight+2+"px"})}})();(()=>{$el("t-date",[],e=>{w(e)},(e,s,o,c)=>{});function w(e){var s=e.options();e.innerHTML=`<div class="t-datebox df aic"><div class="posR">
  <span class="bd bda5px p3px df aic">
  	<span class="t-input-date bd0px posr">
     	<span class="">dd</span>
          <input class="tac bd0px posa w100% h100% t0px l0px" placeholder="dd">
     </span>/
     <span class="t-input-month posr">
     	<span class="p3px">mm</span>
          <input class="tac bd0px posa w100% h100% t0px l0px" placeholder="mm">
     </span>/
     <span class="t-input-year posr">
     	<span class="">yyyy</span>
          <input class="tac bd0px posa w100% h100% t0px l0px" placeholder="yyyy">
     </span>
     <t-svg class="cicon w23px h23px ml5px cr" t-options="name:'user',fill:'${$colors.icon||"gray"}'"></t-svg>
  </span>
     <span class="t-select dn">
     	<div class="posA w{auto} h{auto}">
            <div class="d-head"></div>
            <div class="d-body dG gtc{23px;23px;23px;23px;23px;23px;23px;}">

            </div>
            <div class="d-foot df aic jcC">
                 <t-button class="btn_clear" t-options="name:'',title:'Clear'"></t-button>
                 <t-button class="btn_today" t-options="name:'',title:'Today'"></t-button>
            </div>
       </div>
     </span>
  </div></div>`,e.onchange=()=>{console.log("onchange",e.val())},e.querySelector(".btn_today").onclick=()=>{e.val(Date.now())},e.querySelector(".btn_clear").onclick=()=>{o.forEach(c=>{c.value=""}),e.querySelector(".t-select").classList.add("dn"),typeof e.onchange=="function"&&e.onchange(e)},e.querySelector(".cicon").onclick=()=>{var c=e.val(),a=new Date(c||new Date),u=a.getDate(),T=a.getMonth(),n=1;a=new Date(`${a.getFullYear()}-${a.getMonth()+1}-1`);var f=1;for(e.querySelector(".t-select .d-body").innerHTML="";a.getDay()>f;){var b=new Date(a.getTime()-(a.getDay()-f)*864e5);p(b,1),f++}for(;a.getMonth()==T;)p(a),a=new Date(a.getTime()+864e5);for(f=a.getDay();f<=7;)p(a,1),f++,a=new Date(a.getTime()+864e5);e.querySelector(".t-select").classList.remove("dn");function p(h,t){var i=document.createElement("span");i.innerHTML=`<div class="w23px h23px df aic cr jcC ${h.getDate()==u?"bd":""} ${h.getMonth()==T&&h.getDate()==u?"bg{green}":""} ${t?"bg#ccc c#9e9e9e":""}">${h.getDate()}</div>`,e.querySelector(".t-select .d-body").append(i),i.onclick=()=>{e.val(h)}}};var o=e.querySelectorAll("input");o.forEach((c,a)=>{c.addEventListener("keydown",u=>{u.keyCode==39?a<2&&c.selectionEnd==2&&setTimeout(()=>{o[a+1].focus()}):u.keyCode==37?a>0&&c.selectionEnd==2&&setTimeout(()=>{o[a-1].focus()}):u.keyCode==38||u.keyCode==40,console.log(u)}),c.addEventListener("keypress",u=>{if(u.key==13)return e.onchange(e);if("0,1,2,3,4,5,6,7,8,9".includes(u.key)){if(a<2&&u.target.value.length==2||a==2&&u.target.value.length==4)return event.preventDefault();if(a<2&&u.target.value.length==1){var T=a+1;T<3&&setTimeout(()=>{o[T].focus()})}else a==2&&u.target.value.length==3}else return event.preventDefault();c.previousElementSibling.innerText=c.value.padStart(a<2?2:4,0)})}),o[1].addEventListener("blur",c=>{var a=+o[1].value||new Date().getMonth()+1;a>12&&(a=12),o[1].value=(a+"").padStart(2,0)}),e.val=c=>{if(c){var a=new Date(c);o[0].value=a.getDate(),o[1].value=a.getMonth()+1,o[2].value=a.getFullYear()}var a=[o[2].value,o[1].value,o[0].value].join("-"),u=new Date(a);if(u+""!="Invalid Date")return e.querySelector(".t-select").classList.add("dn"),[u.getFullYear(),u.getMonth()+1,u.getDate()].join("-")}}function v(e){}function d(e){}})();(()=>{$el("t-datetime",[],e=>{w(e)},(e,s,o,c)=>{});function w(e){var s=e.options();e.innerHTML=`<div class="t-datebox df aic"><div class="posR">
  <span class="bd bda5px p3px df aic">
  	<span class="t-input-date bd0px posr">
     	<span class="">dd</span>
          <input class="tac bd0px posa w100% h100% t0px l0px" placeholder="dd">
     </span>/
     <span class="t-input-month posr">
     	<span class="p3px">mm</span>
          <input class="tac bd0px posa w100% h100% t0px l0px" placeholder="mm">
     </span>/
     <span class="t-input-year posr">
     	<span class="">yyyy</span>
          <input class="tac bd0px posa w100% h100% t0px l0px" placeholder="yyyy">
     </span>
     <span class="t-input-time posr">
     	<span class="">hh:ii</span>
          <input class="tac bd0px posa w100% h100% t0px l0px" placeholder="hh:ii">
     </span>
     <t-svg class="cicon w23px h23px ml5px cr" t-options="name:'user',fill:'${$colors.icon||"gray"}'"></t-svg>
  </span>
     <span class="t-select dn">
     	<div class="posA w{auto} h{auto}">
            <div class="d-head"></div>
            <div class="d-body dG gtc{23px;23px;23px;23px;23px;23px;23px;}">

            </div>
            <div class="d-foot df aic jcC">
                 <t-button class="btn_clear" t-options="name:'',title:'Clear'"></t-button>
                 <t-button class="btn_today" t-options="name:'',title:'Today'"></t-button>
            </div>
       </div>
     </span>
  </div></div>`,e.onchange=()=>{console.log("onchange",e.val())},e.querySelector(".btn_today").onclick=()=>{e.val(Date.now())},e.querySelector(".btn_clear").onclick=()=>{o.forEach(c=>{c.value=""}),e.querySelector(".t-select").classList.add("dn"),typeof e.onchange=="function"&&e.onchange(e)},e.querySelector(".cicon").onclick=()=>{var c=e.val(),a=new Date(c||new Date),u=a.getDate(),T=a.getMonth(),n=1;a=new Date(`${a.getFullYear()}-${a.getMonth()+1}-1`);var f=1;for(e.querySelector(".t-select .d-body").innerHTML="";a.getDay()>f;){var b=new Date(a.getTime()-(a.getDay()-f)*864e5);p(b,1),f++}for(;a.getMonth()==T;)p(a),a=new Date(a.getTime()+864e5);for(f=a.getDay();f<=7;)p(a,1),f++,a=new Date(a.getTime()+864e5);e.querySelector(".t-select").classList.remove("dn");function p(h,t){var i=document.createElement("span");i.innerHTML=`<div class="w23px h23px df aic cr jcC ${h.getDate()==u?"bd":""} ${h.getMonth()==T&&h.getDate()==u?"bg{green}":""} ${t?"bg#ccc c#9e9e9e":""}">${h.getDate()}</div>`,e.querySelector(".t-select .d-body").append(i),i.onclick=()=>{e.val(h)}}};var o=e.querySelectorAll("input");o.forEach((c,a)=>{c.addEventListener("keydown",u=>{u.keyCode==39?a<2&&c.selectionEnd==2&&setTimeout(()=>{o[a+1].focus()}):u.keyCode==37?a>0&&c.selectionEnd==2&&setTimeout(()=>{o[a-1].focus()}):u.keyCode==38||u.keyCode==40,console.log(u)}),c.addEventListener("keypress",u=>{if(u.key==13)return e.onchange(e);if("0,1,2,3,4,5,6,7,8,9".includes(u.key)){if(a<2&&u.target.value.length==2||a==2&&u.target.value.length==4)return event.preventDefault();if(a<2&&u.target.value.length==1){var T=a+1;T<3&&setTimeout(()=>{o[T].focus()})}else a==2&&u.target.value.length==3}else return event.preventDefault();c.previousElementSibling.innerText=c.value.padStart(a<2?2:4,0)})}),o[1].addEventListener("blur",c=>{var a=+o[1].value||new Date().getMonth()+1;a>12&&(a=12),o[1].value=(a+"").padStart(2,0)}),e.val=c=>{if(c){var a=new Date(c);o[0].value=a.getDate(),o[1].value=a.getMonth()+1,o[2].value=a.getFullYear()}var a=[o[2].value,o[1].value,o[0].value].join("-"),u=new Date(a);if(u+""!="Invalid Date")return e.querySelector(".t-select").classList.add("dn"),[u.getFullYear(),u.getMonth()+1,u.getDate()].join("-")}}function v(e){}function d(e){}})();$el("t-time",[],w=>{var v=w.options();w.innerHTML=`<input placeholder="hh:ii" ${Object.keys(v).map(d=>`${d}="${v[d]}"`).join(" ")}>`},(w,v,d,e)=>{});(()=>{var w={height:24,width:24,viewBox:"0 -960 960 960",fill:$$colors?.bgmain??"var(--c-dgreen)"};function v(d){console.log("color",$$colors);let{svg:e,path:s,title:o}=$tags("http://www.w3.org/2000/svg");d.innerText="";var c=d.options(),a=$data.find(n=>n.name==c.name);let u=[];if(Array.isArray(a?.svg))for(let n of a.svg)u.push(s({d:n??""}));else u.push(s({d:a?.svg}));var T={...w};[...Object.keys(w),"name"].map(n=>{if(typeof c[n]<"u")return T[n]=c[n];if(a&&typeof a[n]<"u")return T[n]=a[n]}),d.$el=a?e(T,...u):null,$add(d,d.$el)}$el("x-svg",[],d=>{v(d),d.changeName=e=>{let s=$data.find(o=>o.name===e);d.querySelector("path")?.setAttribute("d",s?.svg)}},(d,e,s,o)=>{e=="t-options"&&o&&v(d)})})();})();
