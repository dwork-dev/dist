(()=>{(()=>{$el("x-input",[],e=>{x(e),Object.defineProperties(e,{value:{get:()=>e.querySelector("input")?.value,set:s=>{e.querySelector("input").value=s}},setType:{value:s=>{s&&["text","password","email","number","search","tel"].includes(r)&&e.querySelector("input")?.setAttribute("type",s)},writable:!1},setReadOnly:{value:s=>{s&&[!0,!1].includes(s)&&(s?e.querySelector("input")?.setAttribute("readonly","true"):e.querySelector("input")?.removeAttribute("readonly"))},writable:!1},setDisable:{value:s=>{s&&[!0,!1].includes(s)&&(r?e.querySelector("input")?.setAttribute("disabled","true"):e.querySelector("input")?.removeAttribute("disabled"))},writable:!1},setIcon:{},setError:{},setHelper:{}})},(e,s,o,c)=>{s=="t-options"&&c&&x(e)});function x(e){console.log("helper",e.getAttribute("data-helper"));var s=e.options(),o=e.getAttribute("data-icon"),c=e.getAttribute("data-helper"),a=e.getAttribute("data-pattern");if(s.class=s.class||["mih2.5rem","w100%","oli{none}","bd{1px;solid;#4D4F5C}","bda0.25rem","c{#4D4F5C}","p{.45rem;3rem;.45rem;1rem}","fns--fs-s"],Array.isArray(s.class)||(s.class=s.class.split(" ")),s.class=s.class.join(" "),o&&v(d(o)))var u=`<x-svg t-options='${o}' class="dB wFc b{20%} r0.5rem"></x-svg>`;if(c&&v(d(c))){let f=d(c);var T=f.text?`<div class="c{#4D4F5C80} fns--fs-s">${f.text}</div>`:""}e.innerHTML=`
        <div class="dF fxdC gap0.5rem">
            <div class="dF aic">
                <input ${Object.keys(s).map(f=>`${f}="${s[f]}"`).join(" ")}>
                ${u}
            </div>
            ${T}
        </div>`;let i=e.querySelector("input");i&&(i.oninput=f=>{console.log("input",f.target.value),e.value=f.target.value,e.dispatchEvent(new Event("input"))},i.onchange=f=>{console.log("onchange",f.target.value),e.value=f.target.value,a&&(new RegExp(a).test(f.target.value)?(i.classList.toggle("bd{1px;solid;#4D4F5C}",!0),i.classList.toggle("bd{1px;solid;#FF6565}",!1)):(i.classList.toggle("bd{1px;solid;#FF6565}",!0),i.classList.toggle("bd{1px;solid;#4D4F5C}",!1))),e.dispatchEvent(new Event("change"))})}function v(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}function d(e){try{return JSON.parse(e)}catch{return null}}})();(()=>{$el("x-button",[],e=>{x(e),e.setDisable=s=>{},e.setIcon=s=>{},e.hideIcon=s=>{},e.options=()=>{},e.resize=()=>{}},(e,s,o,c)=>{s=="t-options"&&c&&x(e)});function x(e){var s=e.options(),o=e.getAttribute("data-icon");s.class=s.class||["cr","flt{brightness(90%);contrast(200%)}:hover","td","wFc","dF","aiC","gap2rem","xs:px{1.5rem}","p{0.8rem;3.3rem}","fns--fs-m","bg{var(--c-lgreen)}","bda1.5625rem","bd!N"],Array.isArray(s.class)||(s.class=s.class.split(" ").filter(a=>a)),s.class=s.class.join(" ");var c="";o&&v(d(o))&&(c=`<x-svg t-options='${o}'></x-svg>`),e.innerHTML=`<a ${Object.keys(s).map(a=>`${a}="${s[a]}"`).join(" ")}>${c} ${s.title}</a>`}function v(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}function d(e){try{return JSON.parse(e)}catch{return null}}})();(()=>{$el("t-link",[],v=>{x(v)},(v,d,e)=>{name=="t-options"&&e&&x(v)});function x(v){var d=v.options();d.class=d.class||["p{10px}","cr"],Array.isArray(d.class)||(d.class=d.class.split(" ").filter(s=>s)),d.class.push("bd{1px;solid;#ccc}","jcC","p10px","d{inline-flex}"),d.class=d.class.join(" ");var e="";d.icon&&(e=`<t-svg t-options='${JSON.stringify(d.icon)}'></t-svg>`,delete d.icon),v.innerHTML=`<a ${Object.keys(d).map(s=>`${s}="${d[s]}"`).join(" ")}>${e} ${d.title}</a>`}})();(()=>{$el("x-combo",[],t=>{var n=$state(),l=$state([]);let y=new Set;Object.defineProperties(t,{value:{get:()=>n.val,set:g=>{n.val=g},configurable:!0},setValue:{value:g=>{n.val=g,f(t,y)},writable:!1},getDataOption:{value:()=>l.val,writable:!1},setDataOption:{value:g=>{Array.isArray(g)&&g.length>0&&(l.val=g)},writable:!1},setReadOnly:{},setDisable:{},setHelper:{}}),x(t,y)},(t,n,l,y)=>{n=="t-options"&&y&&x(t)});function x(t,n){let l=t.options();l.multiple=l.multiple||!1,t.value=l.multiple?[]:"",l.value&&(t.value=l.multiple?Array.isArray(l.value)?l.value:[]:["object","function","undefined"].includes(typeof l.value)?"":l.value),l.tags=l.tags||!1,l.allowClear=l.allowClear||!1,l.suggest=l.suggest||!1,l.search=l.search||!1,l.hideClearButton=l.hideClearButton||!0,l.searchDelay=l.searchDelay||300;let y=t.getAttribute("data-helper"),g=t.getAttribute("data-options"),S="";l.class=l.class||["dF","aiC","gap0.25rem","fxw","bd{1px;solid;#dee4f0}","bda0.375rem","p{0.25rem;1rem}","posR","bd!N;>;label"],Array.isArray(l.class)||(l.class=l.class.split(" "));let b=l.minHeight?"mih"+l.minHeight:"mih2.5rem";l.class.push(b),l.class=l.class.join(" ");var k="";if(y&&v(d(y))){let A=d(y);var k=A.text?`<div class="${A.color??"c{var(--c-red)}"} fns--fs-s">${A.text}</div>`:""}if(g&&Array.isArray(d(g))){let A=d(g);if(Array.isArray(A)&&A.length>0){t.setDataOption(A);for(let E of A){let F=!1;if(Array.isArray(t.value))for(let B of t.value)B==E.value&&(n.add(E.label),F=!0);else E.value==t.value&&(n.add(E.label),F=!0);let I=`<input class="fxs bda0.25rem bgc{var(--c-white)} bd{1px;solid;#cdb5e1} h1em w1em vaT" type="checkbox" ${F?"checked":""} value="${E.value??""}"/>`,H="";E.icon&&E.icon.length>0&&(H=`<x-svg class="dB bds!N wFc" t-options="name:'close'"></x-svg>`),console.log("item.icon && item.icon.length",E),S+=`
                    <label class="cr dF aiC gap0.5rem ws{normal} bda0.375rem bg{transparent} bg{#E8E9EC}:active bg{#E8E9EC}:hover wrb{break-work} clr{both} c{#566177} p0.625rem w100% bd!N" data-value="${E.value??""}" data-label="${E.label??""}">
                        ${E.icon&&E.icon.length>0?H:I}
                        <span class="tolE ofl{hidden} ws{nowrap}">${E.label??""}</span>
                    </label>`}}}let C="";l.allowClear&&(C=`<x-svg class="dB bds!N wFc posA r{0.5rem} cr bxshd{0px;4px;12px;#3333331f}:hover d!N bda50%" t-options="name:'close',fill:'#aabad0', width:18, height: 18" name="clear_select"></x-svg>`);let w="";l.suggest||l.search&&(w=`<div class="dF aiC bd!N bdb!{1px;solid;#ddd}">
                        <input type="text" placeholder="Search..." class="bd!N oli{none} dB fns0.875rem mih2rem w100% px{0.625rem}" name="search">
                        <x-svg class="dB wFc posA r{1rem} opc0.8 opc1:hover cr bxshd{0px;4px;12px;#3333331f}:hover bda50% d!N" t-options="name:'close',fill:'#aabad0', width:18, height:18" name="clear_search"></x-svg>
                    </div>`),t.innerHTML=`
        <div class="dF fxdC gap1rem bxsz{'border-box'}">
            <div class="${l.class}" name='combobox-container'>
                <div class="dF fxdC fx1">
                    <input class="bg{var(--c-white)} c{var(--c-black)} bdN oli{none} dB fns0.875rem w100% pr0.875rem bd!N cr ${b}" ${l.suggest?"":"readonly"} name="filter" autocomplete="off" placeholder="${l.placeholder??""}"/>
                    <div class="bxshd{0px;4px;12px;#3333331f} h{fit-content} mt0.25rem bgc{var(--c-white)} w100% bda0.375rem fns0.875rem posA taL z{1000} t100% l0 bd!N dN" name="dropdown">
                        ${w}
                        ${S}
                        <div class="dF aiC d!N p{0.5rem;1rem}" name="no-result">Kh\xF4ng c\xF3 k\u1EBFt qu\u1EA3 n\xE0o \u0111\u01B0\u1EE3c t\xECm th\u1EA5y</div>
                    </div>
                </div>
                ${C}
                <x-svg class="dB bds!N wFc posA r{0.5rem} tra{rotate(90deg)} cr" t-options="name:'chevron_right',fill:'#aabad0', width:18, height:18" name="arrow"></x-svg>
            </div>
            ${k}
        </div>`;let $=t.querySelector('input[name="filter"]'),q=t.querySelector('x-svg[name="arrow"]'),L=t.querySelector('div[name="dropdown"]'),D=t.querySelector('div[name="combobox-container"]'),N=L.getElementsByTagName("label"),O=t.querySelector('x-svg[name="clear_select"]'),M=t.querySelector('input[name="search"]'),j=-1;if(N.length>0){let A;for(let E of N)E.addEventListener("click",function(F){A&&clearTimeout(A),A=setTimeout(()=>{T(l.multiple,this,t,l.allowClearItem,D,N,$,L,q,n,l.allowClear,O)},1),F.stopPropagation()})}O&&(O.onclick=A=>{if(Array.isArray(t.value))if(t.value.length=0,t.value=[],l.allowClearItem){let E=D.querySelectorAll('span[name2="option-allow-clear"]');if(E&&E.length>0)for(let F of E)F.remove()}else $.value="";else t.value="",$.value="";n.clear();for(let E of N)E.querySelector('input[type="checkbox"]')&&(E.querySelector('input[type="checkbox"]').checked=!1);O.classList.toggle("d!N",!0)}),$&&($.oninput=A=>{i(A.target,N,L,l.multiple,l.allowClearItem,t,n),l.suggest&&!l.allowClearItem&&L.classList.contains("dN")&&s(L,q)},$.onclick=A=>{o(N,L),l.suggest&&!l.allowClearItem||s(L,q)},$.onkeyup=A=>{if(["Tab","Enter","ArrowDown","ArrowUp","Escape"].includes(A.key))switch(A.stopPropagation(),A.key){case"Escape":L.classList.toggle("dN",!0);break;case"Tab":case"Enter":j==-1&&(j=0);let E=N[j];T(l.multiple,E,t,l.allowClearItem,D,N,$,L,q,n,l.allowClear,O,!0);break;default:break}}),M&&(M.oninput=A=>{i(A.target,N,L,!1,!1,t,n)}),q&&(q.onclick=A=>{s(L,q)}),L&&(L.onclick=A=>{A.stopPropagation()}),D&&(D.onkeydown=A=>{(A.key==="Tab"||A.key==="Enter")&&A.preventDefault(),(A.key==="ArrowDown"||A.key==="ArrowUp")&&(A.preventDefault(),A.key==="ArrowDown"&&(j=(j+1)%N.length,c(j,N)),A.key==="ArrowUp"&&(j=(j-1+N.length)%N.length,c(j,N)))}),t.value&&t.value.length>0&&m(t,L,N,D,q,O,$,n),document.addEventListener("click",function(A){if(!A.target.closest('div[name="combobox-container"]')){let E=t.querySelector('div[name="dropdown"]'),F=t.querySelector('x-svg[name="arrow"]');E.classList.toggle("dN",!0),e(E,F)}})}function v(t){return t!==null&&typeof t=="object"&&!Array.isArray(t)}function d(t){try{return JSON.parse(t)}catch{return null}}function e(t,n){t.classList.contains("dN")?(n.classList.toggle("tra{rotate(90deg)}",!0),n.classList.toggle("tra{rotate(270deg)}",!1)):(n.classList.toggle("tra{rotate(90deg)}",!1),n.classList.toggle("tra{rotate(270deg)}",!0))}function s(t,n){window.currentlyOpenDropdown&&window.currentlyOpenDropdown!==t&&window.currentlyOpenDropdown.classList.add("dN"),t?.classList.toggle("dN");var l=t.getBoundingClientRect();l.bottom>window.innerHeight?(t.classList.toggle("t100%",!1),t.classList.toggle("t{-205%}",!0)):(t.classList.toggle("t100%",!0),t.classList.toggle("t{-205%}",!1)),e(t,n),window.currentlyOpenDropdown=t.classList.contains("dN")?null:t}function o(t,n){if(t.length>0){n.querySelector('div[name="no-result"]').classList.toggle("d!N",!0);for(let l of t)l.classList.toggle("d!N",!1),l.classList.toggle("bg!{#E8E9EC}",!1)}}function c(t,n){if(n.length>0)for(let l of n)l.classList.toggle("bg!{#E8E9EC}",!1);t>=0&&t<n.length&&n[t].classList.toggle("bg!{#E8E9EC}",!0)}function a(t,n,l){let y=t.querySelector('input[type="checkbox"]'),g=y?y.value:t.getAttribute("data-value"),S=t.getAttribute("data-label"),b=n.value??[],k=!1;return b.includes(g)?n.value=b.filter(C=>C!==g):(n.value.push(g),k=!0),l.has(S)?l.delete(S):l.add(S),{selectedValues:Array.from(l),newText:S.trim(),chosen:k,newValue:g}}function u(t,n,l,y,g,S){let{span:b,"x-svg":k}=$tags,C=k({class:"dB wFc","t-options":'name:"close", width:16, height:16, fill: "#4D4F5C"',"data-value":t,onclick:$=>{g.querySelector(`span[name="options-${t}"]`)?.remove(),S.querySelector(`label[data-value="${t}"]`).querySelector('input[type="checkbox"]')&&(S.querySelector(`label[data-value="${t}"]`).querySelector('input[type="checkbox"]').checked=!1),l.value=l.value.filter(q=>q!==t),y.has(n)&&y.delete(n)}});return b({class:"dF aiC miw1px c{#4D4F5C} bda0.75rem bd{1px;solid;#E8E9EC} fns0.875rem p{0.25rem;0.5rem} gap0.25rem wrb{break-word}",innerText:n,name:`options-${t}`,name2:"option-allow-clear"},C)}function T(t,n,l,y,g,S,b,k,C,w,$,q,L=!1){if(t){let D=a(n,l,w);if(L&&n.querySelector('input[type="checkbox"]')&&(n.querySelector('input[type="checkbox"]').checked=D.chosen),y)if(D.chosen){let N=u(D.newValue,D.newText,l,w,g,k);g.prepend(N)}else l.querySelector(`span[name="options-${D.newValue}"]`)?.remove();else b.value=D.selectedValues.join(", "),b.scrollWidth>b.clientWidth&&(b.value=`\u0110\xE3 ch\u1ECDn (${D.selectedValues.length})`)}else{p(S);let D=n.querySelector('input[type="checkbox"]');D&&(D.checked=!0),l.value=n.getAttribute("data-value"),b.value=n.innerText.trim(),k?.classList.toggle("dN"),e(k,C)}h(l.value,$,C,q)}function i(t,n,l,y,g,S,b){let k=t.value;y&&!g&&(k=k.split(",").map(w=>w.trim()));let C=!0;for(let w=0;w<n.length;w++){let $=n[w].textContent?.trim()||n[w].innerText?.trim();if(Array.isArray(k)){k.some(D=>$.toUpperCase().includes(D.toUpperCase()))?(C=!1,n[w].classList.toggle("d!N",!1)):n[w].classList.toggle("d!N",!0);let q=n[w].getAttribute("data-value"),L=n[w].getAttribute("data-label");k.some(D=>L===D)?S.value.includes(q)||(S.value=[...S.value,q],b.add(L),n[w].querySelector('input[type="checkbox"]')&&(n[w].querySelector('input[type="checkbox"]').checked=!0)):S.value.includes(q)&&(S.value=S.value.filter(D=>D!==q),b.delete(L),n[w].querySelector('input[type="checkbox"]')&&(n[w].querySelector('input[type="checkbox"]').checked=!1))}else $.toUpperCase().indexOf(k.toUpperCase())>-1?(C=!1,n[w].classList.toggle("d!N",!1)):n[w].classList.toggle("d!N",!0)}C?l.querySelector('div[name="no-result"]').classList.toggle("d!N",!1):l.querySelector('div[name="no-result"]').classList.toggle("d!N",!0)}function f(t,n){let l=t.querySelector('input[name="filter"]'),y=t.querySelector('x-svg[name="arrow"]'),g=t.querySelector('div[name="dropdown"]'),S=t.querySelector('div[name="combobox-container"]'),b=g.getElementsByTagName("label"),k=t.querySelector('x-svg[name="clear_select"]');m(t,g,b,S,y,k,l,n,!0)}function m(t,n,l,y,g,S,b,k,C=!1){let w=t.options();if(w.multiple){if(w.allowClearItem){let $=y.querySelectorAll('span[name2="option-allow-clear"]');if($&&$.length>0)for(let q of $)q.remove();if(Array.isArray(t.value)&&t.value.length>0)for(let q of t.value){let L="";for(let N of t.getDataOption())if(N.value==q){L=N.label;break}let D=u(q,L,t,k,y,n);y.prepend(D)}}else b.value=Array.from(k).join(", "),b.scrollWidth>b.clientWidth&&(b.value=`\u0110\xE3 ch\u1ECDn (${k.length})`);if(C&&Array.isArray(t.value)&&t.value.length>0){p(l);for(let $ of t.value){let L=n.querySelector(`label[data-value="${$}"]`)?.querySelector('input[type="checkbox"]');L&&(L.checked=!0)}}}else{let $=n.querySelector(`label[data-value="${t.value}"]`);if(C){p(l);let q=$?.querySelector('input[type="checkbox"]');q&&(q.checked=!0)}b.value=$.innerText.trim()}h(t.value,w.allowClear,g,S)}function p(t){if(t&&t.length>0)for(let n of t)n.querySelector("input")&&(n.querySelector("input").checked=!1)}function h(t,n,l,y){n&&(t&&t.length>0?(l.classList.toggle("d!N",!0),y.classList.toggle("d!N",!1)):(l.classList.toggle("d!N",!1),y.classList.toggle("d!N",!0)))}})();$el("t-combobox",[],x=>{var v=x.options();x.innerHTML=`<select name="${v.name||""}">
  	<option name=""> ----- </option>
  	<option name="1">Level 1</option>
  	<option name="2">Level 2</option>
  </select>`},(x,v,d,e)=>{v=="t-options"});(()=>{$el("x-tree",[],i=>{let f=$state(),m=$state();var p=$state([]);Object.defineProperties(i,{value:{get:()=>f.val,set:h=>{f.val=h},configurable:!0},selected:{get:()=>m.val,set:h=>{m.val=h},configurable:!0},data:{get:()=>p.val,set:h=>{Array.isArray(h)&&(p.val=h)},configurable:!0},setData:{value:(h,t=!1)=>{Array.isArray(h)&&(p.val=h,[!0,!1].includes(t)&&t==!0&&x(i))},writable:!1}}),x(i)},(i,f,m,p)=>{f=="t-options"&&p&&x(i)});function x(i){var f=i.options();f.checkbox&&(i.value=[]);let m=e(i.getAttribute("x-data"));console.log("options",f),m&&Array.isArray(m)&&m.length>0&&(i.data=m);let p=document.createElement("ul");p.classList.add("ws{nowrap};li"),v(i.data,0,p,i),i.insertAdjacentElement("afterbegin",p),f&&f.editEnable&&document.addEventListener("click",function(h){h.target.closest('div[name="tree"]')||(console.log("el",i.selected),i.selected&&(i.querySelector(`div[data-id="${i.selected.id}"] > span[name="tree-name"]`).classList.toggle("dN",!1),i.querySelector(`div[data-id="${i.selected.id}"] > input[type="text"]`)?.remove()))})}function v(i,f,m,p){if(!(!i||Array.isArray(i)&&i.length==0)){f+=1;for(let h of i)d(h,m,f,p)}}function d(i,f,m,p){let h=p.options(),t=h.checkbox?h.checkbox:!1,n=document.createElement("li");n.setAttribute("data-id",i.id),n.setAttribute("data-level",m);let l=document.createElement("div");l.classList.add("dF","h1rem","ws{nowrap}","cr","gap0.25rem","bdl{2px;solid;transparent}","mih1.5rem","aiC"),l.setAttribute("name","tree"),l.setAttribute("data-id",i.id),l.setAttribute("data-level",m);for(var y=0;y<m-1;y++)l.insertAdjacentHTML("afterbegin",'<span class="dIb w1rem h1rem m{0.25rem;0} va{middle} ofl{hidden}"></span>');if(i.childs&&i.childs.length>0?(l.insertAdjacentHTML("beforeend",`<x-svg class="dB wFc" t-options="name:'arrow_right', width:18, height:18" name="arrow"></x-svg>`),l.insertAdjacentHTML("beforeend",`<x-svg class="dB wFc" t-options="name:'folder',width:18, height:18"></x-svg>`),l.querySelector('x-svg[name="arrow"]').addEventListener("click",function(S){S.stopPropagation(),S.target.closest("li").querySelector("ul").classList.toggle("dN"),this.classList.toggle("tra{rotate(45deg)}")})):l.insertAdjacentHTML("beforeend",`<x-svg class="dB wFc" t-options="name:'description',width:16, height:16"></x-svg>`),l.addEventListener("click",function(g){if(console.log("click",g.target.tagName),!(g.target.tagName=="INPUT"&&g.target.name=="tree-edit")){p.querySelectorAll('div[name="tree"]').forEach(function(b){b.classList.remove("bdl{2px;solid;#39c}","bgc{#eee}","c{#39c}"),b.classList.toggle("bdl{2px;solid;transparent}",!0),h&&h.editEnable&&(console.log("abc",l.querySelector('input[name="tree-edit"]')),b.querySelector('span[name="tree-name"]').classList.toggle("dN",!1),b.querySelector('input[type="text"]')?.remove())}),this.classList.remove("bdl{2px;solid;transparent}"),this.classList.add("bdl{2px;solid;#39c}","bgc{#eee}","c{#39c}");let S=this.getAttribute("data-id");if(t||(p.value=S,p.dispatchEvent(new Event("change"))),p.selected=s(S,p.data),h&&h.editEnable){let b=document.createElement("input");b.type="text",b.value=i.name,b.name="tree-edit",l.querySelector('span[name="tree-name"]').classList.toggle("dN",!0),l.insertAdjacentElement("beforeend",b),b.addEventListener("change",function(k){console.log("inputTag",s(S,p.data)),p.dispatchEvent(new CustomEvent("changeNode",{detail:{node_id:S,text:this.value}})),l.querySelector('span[name="tree-name"]').innerText=this.value})}}}),h&&h.checkbox){let g=document.createElement("input");g.type="checkbox",g.value=i.id,l.insertAdjacentElement("beforeend",g),g.addEventListener("change",function(S){console.log("level",m);let b=p.querySelectorAll(`div[data-level="${m+1}"]`);if(b&&b.length>0)for(let C of b){let w=C.querySelector('input[type="checkbox"]');w.checked=!0,p.value.includes(w.value)||p.value.push(w.value)}let k=p.querySelectorAll(`div[data-level="${m}"]`);if(k&&k.length>0){let C=!0;for(let $ of k)$.querySelector('input[type="checkbox"]').checked==!1&&(C=!1);let w=this.parentNode.parentNode.parentNode.parentNode.querySelector('div[name="tree"] input[type="checkbox"]');C==!0?(w.checked=!0,p.value.includes(w.value)||p.value.push(w.value)):(w.checked=!1,o(p.value,w.value))}this.checked?p.value.includes(this.value)||p.value.push(this.value):o(p.value,this.value),p.dispatchEvent(new Event("change"))})}if(l.insertAdjacentHTML("beforeend",`<span class="ws{nowrap}" name="tree-name">${i.name}</span>`),n.insertAdjacentElement("afterbegin",l),f.insertAdjacentElement("beforeend",n),console.log("node",i,i.childs),i.childs&&i.childs.length>0){let g=document.createElement("ul");g.classList.add("dN"),v(i.childs,m,g,p),n.insertAdjacentElement("beforeend",g)}}function e(i){try{return JSON.parse(i)}catch{return null}}function s(i,f){for(let m of f){if(m.id===i)return m;if(m.childs&&m.childs.length>0){let p=s(i,m.childs);if(p)return p}}return null}function o(i,f){let m=i.findIndex(p=>p===f);m!==-1&&i.splice(m,1)}let c=null;function a(i){console.log("onDragStart",i.target.getAttribute("data-id")),c=i.currentTarget,i.dataTransfer.effectAllowed="move",i.dataTransfer.setData("text/html",c.outerHTML)}function u(i){i.preventDefault(),i.dataTransfer.dropEffect="move"}function T(i){i.preventDefault();let f=c.getAttribute("data-id"),m=i.currentTarget.getAttribute("data-id");if(console.log("onDrop",i.currentTarget.getAttribute("data-id"),c.getAttribute("data-id")),f!==m){let p=i.currentTarget.querySelector("ul");if(console.log("abc",p),p)p.appendChild(c);else{let h=document.createElement("ul");h.appendChild(c),i.currentTarget.appendChild(h)}}c=null}})();(()=>{$el("x-table",[],s=>{let o=$state(),c=$state([]);Object.defineProperties(s,{selected:{get:()=>o.val,set:a=>{o.val=a},configurable:!0},data:{get:()=>c.val,set:(a,u=!1)=>{Array.isArray(a)&&(c.val=a,[!0,!1].includes(u)&&u==!0&&x(s))},configurable:!0}}),x(s)},(s,o,c,a)=>{o=="t-options"&&a&&x(s)});function x(s){var o=s.options();console.log("options",o),o.mutilSelect&&o.mutilSelect==!0&&(s.selected=[]);let c=v(s.getAttribute("x-data")),a=Array.isArray(c)?c:[],u=v(s.getAttribute("x-head")),T=Array.isArray(u)?u:[],i=document.createElement("div");i.classList.add("oflxA","oflyA","wF","sbc{#F5F6FA_transparent}","sbw{thin}");let f=document.createElement("table");f.classList.add("md:w100%","bdcl","bdc{#F1F1F3}","vaM","fns0.9375rem","fw{bold};thead","fns--fs;thead","bdb{1px;solid;#F1F1F3};td","p{0.625rem;0.825rem};td","wrb{break-word};td");let m=document.createElement("thead"),p=document.createElement("tr");if(p.classList.add("ta{left}","posSt","t0px","z1"),T&&T.length>0)for(let t of T){let n=document.createElement("td");n.innerText=t.name,p.appendChild(n)}m.appendChild(p);let h=document.createElement("tbody");if(h.classList.add("bgc{#EDEEF0};tr:hover","cr{pointer};tr","ta{left};tr"),a&&a.length>0)for(let t of a){let n=document.createElement("tr");console.log("trBodyTag",t.id),n.setAttribute("data-id",t.id);for(let l of T)for(let y in t)if(l.field==y){let g=document.createElement("td");g.innerText=t[y],n.appendChild(g)}n.addEventListener("click",function(l){let y=this.getAttribute("data-id");if(o.mutilSelect&&o.mutilSelect==!0){let g=s.selected.includes(y);g?s.selected=e(s.selected,y):s.selected.push(y),this.classList.toggle("c{#39c}",!g),this.classList.toggle("bg{#eee}",!g)}else s.selected=y,d(s),this.classList.toggle("c{#39c}",!0),this.classList.toggle("bg{#eee}",!0)}),h.appendChild(n)}f.insertAdjacentElement("afterbegin",m),f.appendChild(h),i.insertAdjacentElement("afterbegin",f),s.insertAdjacentElement("afterbegin",i)}function v(s){try{return JSON.parse(s)}catch{return null}}function d(s){let o=s.getElementsByTagName("tr");if(o&&o.length>0)for(let c of o)c.classList.toggle("c{#39c}",!1),c.classList.toggle("bg{#eee}",!1)}function e(s,o){if(typeof o=="object"&&o!==null){let[c,a]=Object.entries(o)[0];return s.filter(u=>u[c]!==a)}else return s.filter(c=>c!==o)}})();(()=>{$el("x-text",[],v=>{x(v),Object.defineProperties(v,{value:{get:()=>v.querySelector("textarea")?.value,set:d=>{v.querySelector("textarea").value=d}},setReadOnly:{value:d=>{d&&[!0,!1].includes(d)&&(d?v.querySelector("textarea")?.setAttribute("readonly","true"):v.querySelector("textarea")?.removeAttribute("readonly"))},writable:!1},setDisable:{value:d=>{d&&[!0,!1].includes(d)&&(r?v.querySelector("textarea")?.setAttribute("disabled","true"):v.querySelector("textarea")?.removeAttribute("disabled"))},writable:!1}})},(v,d,e,s)=>{d=="t-options"&&s&&x(v)});function x(v){var d=v.options();d.class=d.class||["w100%","mih2.5rem","bd{1px;solid;#E8E9EC}","bda0.25rem","c{#141735}","dB","p{.45rem;1rem}","xs:px{0.5rem}","oli{none}"],Array.isArray(d.class)||(d.class=d.class.split(" ").filter(s=>s)),d.class=d.class.join(" "),v.innerHTML=`<textarea ${Object.keys(d).map(s=>`${s}="${d[s]}"`).join(" ")}></textarea>`;let e=v.querySelector("textarea");e&&(e.oninput=s=>{s.target.style.height="auto",s.target.style.height=s.target.scrollHeight+2+"px"})}})();(()=>{$el("t-date",[],e=>{x(e)},(e,s,o,c)=>{});function x(e){var s=e.options();e.innerHTML=`<div class="t-datebox df aic"><div class="posR">
  <span class="bd bda5px p3px df aic">
  	<span class="t-input-date bd0px posr">
     	<span class="">dd</span>
          <input class="tac bd0px posa w100% h100% t0px l0px" placeholder="dd">
     </span>/
     <span class="t-input-month posr">
     	<span class="p3px">mm</span>
          <input class="tac bd0px posa w100% h100% t0px l0px" placeholder="mm">
     </span>/
     <span class="t-input-year posr">
     	<span class="">yyyy</span>
          <input class="tac bd0px posa w100% h100% t0px l0px" placeholder="yyyy">
     </span>
     <t-svg class="cicon w23px h23px ml5px cr" t-options="name:'user',fill:'${$$colors.bcolor||"gray"}'"></t-svg>
  </span>
     <span class="t-select dn">
     	<div class="posA w{auto} h{auto}">
            <div class="d-head"></div>
            <div class="d-body dG gtc{23px;23px;23px;23px;23px;23px;23px;}">

            </div>
            <div class="d-foot df aic jcC">
                 <t-button class="btn_clear" t-options="name:'',title:'Clear'"></t-button>
                 <t-button class="btn_today" t-options="name:'',title:'Today'"></t-button>
            </div>
       </div>
     </span>
  </div></div>`,e.onchange=()=>{console.log("onchange",e.val())},e.querySelector(".btn_today").onclick=()=>{e.val(Date.now())},e.querySelector(".btn_clear").onclick=()=>{o.forEach(c=>{c.value=""}),e.querySelector(".t-select").classList.add("dn"),typeof e.onchange=="function"&&e.onchange(e)},e.querySelector(".cicon").onclick=()=>{var c=e.val(),a=new Date(c||new Date),u=a.getDate(),T=a.getMonth(),i=1;a=new Date(`${a.getFullYear()}-${a.getMonth()+1}-1`);var f=1;for(e.querySelector(".t-select .d-body").innerHTML="";a.getDay()>f;){var m=new Date(a.getTime()-(a.getDay()-f)*864e5);p(m,1),f++}for(;a.getMonth()==T;)p(a),a=new Date(a.getTime()+864e5);for(f=a.getDay();f<=7;)p(a,1),f++,a=new Date(a.getTime()+864e5);e.querySelector(".t-select").classList.remove("dn");function p(h,t){var n=document.createElement("span");n.innerHTML=`<div class="w23px h23px df aic cr jcC ${h.getDate()==u?"bd":""} ${h.getMonth()==T&&h.getDate()==u?"bg{green}":""} ${t?"bg#ccc c#9e9e9e":""}">${h.getDate()}</div>`,e.querySelector(".t-select .d-body").append(n),n.onclick=()=>{e.val(h)}}};var o=e.querySelectorAll("input");o.forEach((c,a)=>{c.addEventListener("keydown",u=>{u.keyCode==39?a<2&&c.selectionEnd==2&&setTimeout(()=>{o[a+1].focus()}):u.keyCode==37?a>0&&c.selectionEnd==2&&setTimeout(()=>{o[a-1].focus()}):u.keyCode==38||u.keyCode==40,console.log(u)}),c.addEventListener("keypress",u=>{if(u.key==13)return e.onchange(e);if("0,1,2,3,4,5,6,7,8,9".includes(u.key)){if(a<2&&u.target.value.length==2||a==2&&u.target.value.length==4)return event.preventDefault();if(a<2&&u.target.value.length==1){var T=a+1;T<3&&setTimeout(()=>{o[T].focus()})}else a==2&&u.target.value.length==3}else return event.preventDefault();c.previousElementSibling.innerText=c.value.padStart(a<2?2:4,0)})}),o[1].addEventListener("blur",c=>{var a=+o[1].value||new Date().getMonth()+1;a>12&&(a=12),o[1].value=(a+"").padStart(2,0)}),e.val=c=>{if(c){var a=new Date(c);o[0].value=a.getDate(),o[1].value=a.getMonth()+1,o[2].value=a.getFullYear()}var a=[o[2].value,o[1].value,o[0].value].join("-"),u=new Date(a);if(u+""!="Invalid Date")return e.querySelector(".t-select").classList.add("dn"),[u.getFullYear(),u.getMonth()+1,u.getDate()].join("-")}}function v(e){}function d(e){}})();(()=>{$el("t-datetime",[],e=>{x(e)},(e,s,o,c)=>{});function x(e){var s=e.options();e.innerHTML=`<div class="t-datebox df aic"><div class="posR">
  <span class="bd bda5px p3px df aic">
  	<span class="t-input-date bd0px posr">
     	<span class="">dd</span>
          <input class="tac bd0px posa w100% h100% t0px l0px" placeholder="dd">
     </span>/
     <span class="t-input-month posr">
     	<span class="p3px">mm</span>
          <input class="tac bd0px posa w100% h100% t0px l0px" placeholder="mm">
     </span>/
     <span class="t-input-year posr">
     	<span class="">yyyy</span>
          <input class="tac bd0px posa w100% h100% t0px l0px" placeholder="yyyy">
     </span>
     <span class="t-input-time posr">
     	<span class="">hh:ii</span>
          <input class="tac bd0px posa w100% h100% t0px l0px" placeholder="hh:ii">
     </span>
     <t-svg class="cicon w23px h23px ml5px cr" t-options="name:'user',fill:'${$colors.icon||"gray"}'"></t-svg>
  </span>
     <span class="t-select dn">
     	<div class="posA w{auto} h{auto}">
            <div class="d-head"></div>
            <div class="d-body dG gtc{23px;23px;23px;23px;23px;23px;23px;}">

            </div>
            <div class="d-foot df aic jcC">
                 <t-button class="btn_clear" t-options="name:'',title:'Clear'"></t-button>
                 <t-button class="btn_today" t-options="name:'',title:'Today'"></t-button>
            </div>
       </div>
     </span>
  </div></div>`,e.onchange=()=>{console.log("onchange",e.val())},e.querySelector(".btn_today").onclick=()=>{e.val(Date.now())},e.querySelector(".btn_clear").onclick=()=>{o.forEach(c=>{c.value=""}),e.querySelector(".t-select").classList.add("dn"),typeof e.onchange=="function"&&e.onchange(e)},e.querySelector(".cicon").onclick=()=>{var c=e.val(),a=new Date(c||new Date),u=a.getDate(),T=a.getMonth(),i=1;a=new Date(`${a.getFullYear()}-${a.getMonth()+1}-1`);var f=1;for(e.querySelector(".t-select .d-body").innerHTML="";a.getDay()>f;){var m=new Date(a.getTime()-(a.getDay()-f)*864e5);p(m,1),f++}for(;a.getMonth()==T;)p(a),a=new Date(a.getTime()+864e5);for(f=a.getDay();f<=7;)p(a,1),f++,a=new Date(a.getTime()+864e5);e.querySelector(".t-select").classList.remove("dn");function p(h,t){var n=document.createElement("span");n.innerHTML=`<div class="w23px h23px df aic cr jcC ${h.getDate()==u?"bd":""} ${h.getMonth()==T&&h.getDate()==u?"bg{green}":""} ${t?"bg#ccc c#9e9e9e":""}">${h.getDate()}</div>`,e.querySelector(".t-select .d-body").append(n),n.onclick=()=>{e.val(h)}}};var o=e.querySelectorAll("input");o.forEach((c,a)=>{c.addEventListener("keydown",u=>{u.keyCode==39?a<2&&c.selectionEnd==2&&setTimeout(()=>{o[a+1].focus()}):u.keyCode==37?a>0&&c.selectionEnd==2&&setTimeout(()=>{o[a-1].focus()}):u.keyCode==38||u.keyCode==40,console.log(u)}),c.addEventListener("keypress",u=>{if(u.key==13)return e.onchange(e);if("0,1,2,3,4,5,6,7,8,9".includes(u.key)){if(a<2&&u.target.value.length==2||a==2&&u.target.value.length==4)return event.preventDefault();if(a<2&&u.target.value.length==1){var T=a+1;T<3&&setTimeout(()=>{o[T].focus()})}else a==2&&u.target.value.length==3}else return event.preventDefault();c.previousElementSibling.innerText=c.value.padStart(a<2?2:4,0)})}),o[1].addEventListener("blur",c=>{var a=+o[1].value||new Date().getMonth()+1;a>12&&(a=12),o[1].value=(a+"").padStart(2,0)}),e.val=c=>{if(c){var a=new Date(c);o[0].value=a.getDate(),o[1].value=a.getMonth()+1,o[2].value=a.getFullYear()}var a=[o[2].value,o[1].value,o[0].value].join("-"),u=new Date(a);if(u+""!="Invalid Date")return e.querySelector(".t-select").classList.add("dn"),[u.getFullYear(),u.getMonth()+1,u.getDate()].join("-")}}function v(e){}function d(e){}})();$el("t-time",[],x=>{var v=x.options();x.innerHTML=`<input placeholder="hh:ii" ${Object.keys(v).map(d=>`${d}="${v[d]}"`).join(" ")}>`},(x,v,d,e)=>{});(()=>{var x={height:24,width:24,viewBox:"0 -960 960 960",fill:$$colors?.bgmain??"var(--c-dgreen)"};function v(d){let{svg:e,path:s,title:o}=$tags("http://www.w3.org/2000/svg");d.innerText="";var c=d.options(),a=$data.find(i=>i.name==c.name);let u=[];if(Array.isArray(a?.svg))for(let i of a.svg)u.push(s({d:i??""}));else u.push(s({d:a?.svg}));var T={...x};[...Object.keys(x),"name"].map(i=>{if(typeof c[i]<"u")return T[i]=c[i];if(a&&typeof a[i]<"u")return T[i]=a[i]}),d.$el=a?e(T,...u):null,$add(d,d.$el)}$el("x-svg",[],d=>{v(d),d.changeName=e=>{let s=$data.find(o=>o.name===e);d.querySelector("path")?.setAttribute("d",s?.svg)}},(d,e,s,o)=>{e=="t-options"&&o&&v(d)})})();})();
